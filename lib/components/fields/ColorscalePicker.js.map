{"version":3,"file":"ColorscalePicker.js","names":["_isUndefined","_interopRequireDefault","require","_ColorscalePicker","_Field","_propTypes","_react","_interopRequireWildcard","_lib","_constants","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_extends","assign","bind","__signature__","signature","UnconnectedColorscalePicker","Component","constructor","onUpdate","colorscale","colorscaleType","Array","isArray","props","updatePlot","map","c","step","isUndefined","fullContainer","index","context","type","EDITOR_ACTIONS","UPDATE_TRACES","payload","update","autocolorscale","traceIndexes","render","fullValue","v","createElement","fieldContainerClassName","selected","onColorscaleChange","initialCategory","disableCategorySwitch","editable","__reactstandin__regenerateByEval","key","code","eval","exports","propTypes","labelWidth","PropTypes","number","any","object","func","string","Field","contextTypes","container","graphDiv","displayName","_default","connectToContainer","_default2","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/fields/ColorscalePicker.js"],"sourcesContent":["import isUndefined from 'lodash/isUndefined';\nimport ColorscalePicker from '../widgets/ColorscalePicker';\nimport Field from './Field';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectToContainer} from 'lib';\nimport {EDITOR_ACTIONS} from 'lib/constants';\n\nexport class UnconnectedColorscalePicker extends Component {\n  constructor() {\n    super();\n    this.onUpdate = this.onUpdate.bind(this);\n  }\n\n  onUpdate(colorscale, colorscaleType) {\n    if (Array.isArray(colorscale)) {\n      this.props.updatePlot(\n        colorscale.map((c, i) => {\n          let step = i / (colorscale.length - 1);\n          if (i === 0) {\n            step = 0;\n          }\n          return [step, c];\n        }),\n        colorscaleType\n      );\n      if (!isUndefined(this.props.fullContainer.index)) {\n        this.context.onUpdate({\n          type: EDITOR_ACTIONS.UPDATE_TRACES,\n          payload: {\n            update: {autocolorscale: false},\n            traceIndexes: [this.props.fullContainer.index],\n          },\n        });\n      }\n    }\n  }\n\n  render() {\n    const {fullValue} = this.props;\n    const colorscale = Array.isArray(fullValue) ? fullValue.map((v) => v[1]) : null;\n\n    return (\n      <Field {...this.props} fieldContainerClassName=\"field__colorscale\">\n        <ColorscalePicker\n          selected={colorscale}\n          onColorscaleChange={this.onUpdate}\n          initialCategory={this.props.initialCategory}\n          disableCategorySwitch={this.props.disableCategorySwitch}\n          editable={this.props.editable}\n        />\n      </Field>\n    );\n  }\n}\n\nUnconnectedColorscalePicker.propTypes = {\n  labelWidth: PropTypes.number,\n  fullValue: PropTypes.any,\n  fullContainer: PropTypes.object,\n  updatePlot: PropTypes.func,\n  initialCategory: PropTypes.string,\n  ...Field.propTypes,\n};\n\nUnconnectedColorscalePicker.contextTypes = {\n  container: PropTypes.object,\n  graphDiv: PropTypes.object,\n  onUpdate: PropTypes.func,\n};\n\nUnconnectedColorscalePicker.displayName = 'UnconnectedColorscalePicker';\n\nexport default connectToContainer(UnconnectedColorscalePicker);\n"],"mappings":"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","ignoreList":[]}
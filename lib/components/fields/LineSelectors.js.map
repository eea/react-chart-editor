{"version":3,"file":"LineSelectors.js","names":["_Dropdown","_interopRequireDefault","require","_propTypes","_react","_interopRequireWildcard","_nested_property","_lib","_constants","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","_extends","assign","bind","__signature__","signature","strokeDashes","strokeDasharray","strokeShapes","d","computeOptions","strokeData","stroke","map","_ref","_ref$d","label","createElement","width","height","style","fill","strokeWidth","MULTI_VALUED","COLORS","mutedBlue","LineShapeSelector","props","LineSelector","exports","LineDashSelector","lineColor","concat","Component","constructor","context","setLocals","UNSAFE_componentWillReceiveProps","nextProps","nextContext","fullContainer","nestedProperty","options","render","backgroundDark","tooLight","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","func","Dropdown","defaultProps","clearable","contextTypes","object","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/fields/LineSelectors.js"],"sourcesContent":["import Dropdown from './Dropdown';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport nestedProperty from 'plotly.js/src/lib/nested_property';\nimport {tooLight} from 'lib';\nimport {COLORS, MULTI_VALUED} from 'lib/constants';\n\nconst strokeDashes = [\n  {value: 'solid', strokeDasharray: ''},\n  {value: 'dot', strokeDasharray: '3px, 3px'},\n  {value: 'dash', strokeDasharray: '9px, 9px'},\n  {value: 'longdash', strokeDasharray: '15px, 15px'},\n  {value: 'dashdot', strokeDasharray: '9px, 3px, 3px, 3px'},\n  {value: 'longdashdot', strokeDasharray: '15px, 6px, 3px, 6px'},\n];\n\nconst strokeShapes = [\n  {d: 'M2,14L14,2', value: 'linear'},\n  {d: 'M2,14C4,4 16,16 18,2', value: 'spline'},\n  {d: 'M2,14H14V2', value: 'hv'},\n  {d: 'M2,14V2H14', value: 'vh'},\n  {d: 'M2,14H8V2H14', value: 'hvh'},\n  {d: 'M2,14V8H14V2', value: 'vhv'},\n];\n\nconst computeOptions = (strokeData, stroke) =>\n  strokeData.map(({value, strokeDasharray, d = 'M0,8h100'}) => ({\n    label: (\n      <svg width=\"100\" height=\"16\">\n        <g>\n          <path\n            d={d}\n            style={{\n              fill: 'none',\n              strokeWidth: '4px',\n              stroke: !stroke || stroke === MULTI_VALUED ? COLORS.mutedBlue : stroke,\n              strokeDasharray,\n            }}\n          />\n        </g>\n      </svg>\n    ),\n    value,\n  }));\n\nexport const LineShapeSelector = (props) => (\n  <LineSelector {...props} computeOptions={computeOptions.bind(null, strokeShapes)} />\n);\n\nexport const LineDashSelector = (props) => (\n  <LineSelector\n    {...props}\n    computeOptions={(lineColor) =>\n      computeOptions(strokeDashes, lineColor).concat([\n        {\n          label: '',\n          value: null,\n        },\n      ])\n    }\n  />\n);\n\nclass LineSelector extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.setLocals(props, context);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n    this.setLocals(nextProps, nextContext);\n  }\n\n  setLocals(nextProps, nextContext) {\n    const {fullContainer} = nextContext;\n    const lineColor = nestedProperty(fullContainer, 'line.color').get();\n    if (!this.options || this.lineColor !== lineColor) {\n      this.options = this.props.computeOptions(lineColor);\n      this.lineColor = lineColor;\n    }\n  }\n\n  render() {\n    return (\n      <Dropdown {...this.props} options={this.options} backgroundDark={tooLight(this.lineColor)} />\n    );\n  }\n}\n\nLineSelector.propTypes = {\n  computeOptions: PropTypes.func,\n  ...Dropdown.propTypes,\n};\n\nLineSelector.defaultProps = {\n  clearable: false,\n};\n\nLineSelector.contextTypes = {\n  fullContainer: PropTypes.object,\n};\n"],"mappings":"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","ignoreList":[]}
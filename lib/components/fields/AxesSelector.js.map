{"version":3,"file":"AxesSelector.js","names":["_Field","_interopRequireDefault","require","_propTypes","_Dropdown","_RadioBlocks","_react","_interopRequireWildcard","_lib","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","_extends","assign","bind","arguments","length","apply","__signature__","signature","AxesSelector","Component","constructor","props","context","_","localize","axesTargetHandler","Error","render","_this$context","axesTarget","fullLayout","axesOptions","maxCharsThatFitInRadio","maxOptions","multipleSublots","_subplots","values","some","s","options","map","option","value","label","getParsedTemplateString","title","meta","totalCharsInOptions","o","reduce","acc","createElement","onChange","clearable","center","activeOption","onOptionChange","__reactstandin__regenerateByEval","key","code","eval","contextTypes","PropTypes","func","string","object","propTypes","array","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/fields/AxesSelector.js"],"sourcesContent":["import Field from './Field';\nimport PropTypes from 'prop-types';\nimport Dropdown from '../widgets/Dropdown';\nimport RadioBlocks from '../widgets/RadioBlocks';\nimport React, {Component} from 'react';\nimport {getParsedTemplateString} from 'lib';\n\nclass AxesSelector extends Component {\n  constructor(props, context) {\n    super(props, context);\n    const {localize: _} = context;\n\n    if (!context.axesTargetHandler) {\n      throw new Error(_('AxesSelector must be nested within a connectAxesToPlot component'));\n    }\n  }\n\n  render() {\n    const {axesTargetHandler, axesTarget, fullLayout, localize: _} = this.context;\n    const {axesOptions} = this.props;\n    const maxCharsThatFitInRadio = 27;\n    const maxOptions = axesOptions.length > 4; // eslint-disable-line\n\n    const multipleSublots =\n      fullLayout &&\n      fullLayout._subplots &&\n      Object.values(fullLayout._subplots).some((s) => s.length > 1);\n\n    const options = multipleSublots\n      ? axesOptions.map((option) =>\n          option.value === 'allaxes'\n            ? option\n            : {\n                label: getParsedTemplateString(option.title, {\n                  meta: fullLayout.meta,\n                }),\n                value: option.value,\n              }\n        )\n      : axesOptions;\n\n    const totalCharsInOptions =\n      (options && options.map((o) => o.label).reduce((acc, o) => acc + o.length, 0)) || 0;\n\n    return maxOptions || totalCharsInOptions >= maxCharsThatFitInRadio ? (\n      <Field {...this.props} label={_('Axis to Style')}>\n        <Dropdown\n          options={options}\n          value={axesTarget}\n          onChange={axesTargetHandler}\n          clearable={false}\n        />\n      </Field>\n    ) : (\n      <Field {...this.props} center>\n        <RadioBlocks\n          options={options}\n          activeOption={axesTarget}\n          onOptionChange={axesTargetHandler}\n        />\n      </Field>\n    );\n  }\n}\n\nAxesSelector.contextTypes = {\n  axesTargetHandler: PropTypes.func,\n  axesTarget: PropTypes.string,\n  fullLayout: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nAxesSelector.propTypes = {\n  axesOptions: PropTypes.array,\n};\n\nexport default AxesSelector;\n"],"mappings":"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","ignoreList":[]}
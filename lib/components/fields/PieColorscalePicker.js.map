{"version":3,"file":"PieColorscalePicker.js","names":["_ColorscalePicker","_interopRequireDefault","require","_Field","_propTypes","_react","_interopRequireWildcard","_lib","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","__signature__","signature","UnconnectedPieColorscalePicker","Component","constructor","props","onUpdate","bind","colorscale","colorscaleType","Array","isArray","numPieSlices","context","graphDiv","calcdata","adjustedColorscale","adjustColorscale","repeat","updatePlot","render","fullValue","createElement","selected","onColorscaleChange","initialCategory","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","any","func","Field","contextTypes","container","object","displayName","_default","connectToContainer","modifyPlotProps","plotProps","map","d","color","traceIndexes","isVisible","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/fields/PieColorscalePicker.js"],"sourcesContent":["import ColorscalePickerWidget from '../widgets/ColorscalePicker';\nimport Field from './Field';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectToContainer, adjustColorscale} from 'lib';\n\nclass UnconnectedPieColorscalePicker extends Component {\n  constructor(props) {\n    super(props);\n    this.onUpdate = this.onUpdate.bind(this);\n  }\n\n  onUpdate(colorscale, colorscaleType) {\n    if (Array.isArray(colorscale)) {\n      const numPieSlices = this.context.graphDiv.calcdata[0].length + 1;\n      const adjustedColorscale = adjustColorscale(colorscale, numPieSlices, colorscaleType, {\n        repeat: true,\n      });\n      this.props.updatePlot(adjustedColorscale);\n    }\n  }\n\n  render() {\n    const {fullValue} = this.props;\n    const colorscale = Array.isArray(fullValue) ? fullValue : null;\n\n    return (\n      <Field {...this.props}>\n        <ColorscalePickerWidget\n          selected={colorscale}\n          onColorscaleChange={this.onUpdate}\n          initialCategory=\"categorical\"\n        />\n      </Field>\n    );\n  }\n}\n\nUnconnectedPieColorscalePicker.propTypes = {\n  fullValue: PropTypes.any,\n  updatePlot: PropTypes.func,\n  ...Field.propTypes,\n};\n\nUnconnectedPieColorscalePicker.contextTypes = {\n  container: PropTypes.object,\n  graphDiv: PropTypes.object,\n};\n\nUnconnectedPieColorscalePicker.displayName = 'UnconnectedPieColorscalePicker';\n\nexport default connectToContainer(UnconnectedPieColorscalePicker, {\n  modifyPlotProps: (props, context, plotProps) => {\n    if (\n      context &&\n      context.container &&\n      context.graphDiv &&\n      (!plotProps.fullValue ||\n        (Array.isArray(plotProps.fullValue) && !plotProps.fullValue.length)) &&\n      context.graphDiv.calcdata\n    ) {\n      plotProps.fullValue = context.graphDiv.calcdata[0].map((d) => d.color);\n    }\n\n    if (context.traceIndexes.length > 1) {\n      plotProps.isVisible = false;\n    }\n  },\n});\n"],"mappings":"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","ignoreList":[]}
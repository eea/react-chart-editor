{"version":3,"file":"Dropdown.js","names":["_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactSelect","_classnames","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","Dropdown","Component","constructor","props","onChange","bind","selection","multi","valueKey","map","s","render","minWidth","placeholder","clearable","value","options","searchable","noResultsText","disabled","className","width","localize","_","context","dropdownStyle","opts","opt","label","dropdownContainerClass","classnames","backgroundDark","getOption","find","o","createElement","style","isClearable","Array","isArray","reduce","acc","v","push","isSearchable","isMulti","noOptionsMessage","getOptionValue","getOptionLabel","isDisabled","classNamePrefix","components","__reactstandin__regenerateByEval","key","code","eval","defaultProps","propTypes","PropTypes","bool","func","isRequired","array","oneOfType","string","object","number","any","contextTypes","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/Dropdown.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport Select from 'react-select';\nimport classnames from 'classnames';\n\nclass Dropdown extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(selection) {\n    const {multi, onChange, valueKey} = this.props;\n\n    if (!selection) {\n      return onChange(null);\n    }\n\n    return multi ? onChange(selection.map((s) => s[valueKey])) : onChange(selection[valueKey]);\n  }\n\n  render() {\n    const {\n      minWidth,\n      placeholder,\n      clearable,\n      value,\n      options,\n      searchable,\n      multi,\n      noResultsText,\n      valueKey,\n      disabled,\n      className,\n      width,\n    } = this.props;\n\n    const {localize: _} = this.context;\n\n    const dropdownStyle = {minWidth};\n    if (width) {\n      dropdownStyle.width = width;\n    }\n\n    const opts = options.map((opt) =>\n      typeof opt === 'string' ? {label: opt, [valueKey]: opt} : opt\n    );\n\n    const dropdownContainerClass = classnames('dropdown-container', {\n      'dropdown--dark': this.props.backgroundDark,\n      [className]: className,\n    });\n\n    const getOption = (value) => {\n      if (!value) {\n        return null;\n      }\n\n      return opts.find((o) => o[valueKey] === value) || {label: value, [valueKey]: value};\n    };\n\n    return (\n      <div className={dropdownContainerClass} style={dropdownStyle}>\n        <Select\n          placeholder={placeholder || _('Select an Option')}\n          isClearable={clearable}\n          value={\n            Array.isArray(value)\n              ? value.reduce((acc, v) => {\n                  acc.push(getOption(v));\n                  return acc;\n                }, [])\n              : getOption(value)\n          }\n          options={opts}\n          isSearchable={searchable}\n          onChange={this.onChange}\n          isMulti={multi}\n          noOptionsMessage={() => noResultsText || _('No Results')}\n          getOptionValue={(o) => o[valueKey]}\n          getOptionLabel={(o) => o.label}\n          isDisabled={disabled}\n          className={dropdownContainerClass}\n          classNamePrefix=\"Select\"\n          components={this.props.components}\n        />\n      </div>\n    );\n  }\n}\n\nDropdown.defaultProps = {\n  clearable: true,\n  multi: false,\n  searchable: false,\n  minWidth: '120px',\n  valueKey: 'value',\n  disabled: false,\n};\n\nDropdown.propTypes = {\n  backgroundDark: PropTypes.bool,\n  clearable: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n  placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  searchable: PropTypes.bool,\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  valueKey: PropTypes.string,\n  value: PropTypes.any,\n  multi: PropTypes.bool,\n  components: PropTypes.object,\n  noResultsText: PropTypes.string,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nDropdown.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default Dropdown;\n"],"mappings":"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","ignoreList":[]}
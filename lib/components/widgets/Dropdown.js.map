{"version":3,"file":"Dropdown.js","names":["_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactSelect","_creatable","_classnames","_isNil","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","Dropdown","Component","constructor","props","onChange","bind","onCreate","selection","multi","valueKey","map","s","value","render","minWidth","placeholder","clearable","creatable","options","searchable","noResultsText","disabled","className","width","localize","_","context","dropdownStyle","opts","opt","label","dropdownContainerClass","classnames","backgroundDark","getOption","isNil","find","o","Select","SelectCreatable","SelectBasic","createElement","style","isClearable","Array","isArray","reduce","acc","v","push","isSearchable","onCreateOption","isMulti","noOptionsMessage","getOptionValue","getOptionLabel","isDisabled","classNamePrefix","components","__reactstandin__regenerateByEval","key","code","eval","defaultProps","propTypes","PropTypes","bool","func","isRequired","array","oneOfType","string","object","number","any","contextTypes","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/Dropdown.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport SelectBasic from 'react-select';\nimport SelectCreatable from 'react-select/creatable';\nimport classnames from 'classnames';\nimport isNil from 'lodash/isNil';\n\nclass Dropdown extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n    this.onCreate = this.onCreate.bind(this);\n  }\n\n  onChange(selection) {\n    const { multi, onChange, valueKey } = this.props;\n\n    if (!selection) {\n      return onChange(null);\n    }\n\n    return multi ? onChange(selection.map((s) => s[valueKey])) : onChange(selection[valueKey]);\n  }\n\n  onCreate(value) {\n    const { onCreate } = this.props;\n\n    if (!value) {\n      return onCreate(null);\n    }\n\n    return onCreate(value);\n  }\n\n  render() {\n    const {\n      minWidth,\n      placeholder,\n      clearable,\n      creatable,\n      value,\n      options,\n      searchable,\n      multi,\n      noResultsText,\n      valueKey,\n      disabled,\n      className,\n      width,\n    } = this.props;\n\n    const { localize: _ } = this.context;\n\n    const dropdownStyle = { minWidth };\n    if (width) {\n      dropdownStyle.width = width;\n    }\n\n    const opts = options.map((opt) =>\n      typeof opt === 'string' ? { label: opt, [valueKey]: opt } : opt\n    );\n\n    const dropdownContainerClass = classnames('dropdown-container', {\n      'dropdown--dark': this.props.backgroundDark,\n      [className]: className,\n    });\n\n    const getOption = (value) => {\n      if (isNil(value)) {\n        return null;\n      }\n\n      return opts.find((o) => o[valueKey] === value) || { label: value, [valueKey]: value };\n    };\n\n    const Select = creatable ? SelectCreatable : SelectBasic;\n\n    return (\n      <div className={dropdownContainerClass} style={dropdownStyle}>\n        <Select\n          placeholder={placeholder || _('Select an Option')}\n          isClearable={clearable}\n          value={\n            Array.isArray(value)\n              ? value.reduce((acc, v) => {\n                acc.push(getOption(v));\n                return acc;\n              }, [])\n              : getOption(value)\n          }\n          options={opts}\n          isSearchable={searchable}\n          onChange={this.onChange}\n          onCreateOption={this.onCreate}\n          isMulti={multi}\n          noOptionsMessage={() => noResultsText || _('No Results')}\n          getOptionValue={(o) => o[valueKey]}\n          getOptionLabel={(o) => o.label}\n          isDisabled={disabled}\n          className={dropdownContainerClass}\n          classNamePrefix=\"Select\"\n          components={this.props.components}\n        />\n      </div>\n    );\n  }\n}\n\nDropdown.defaultProps = {\n  clearable: true,\n  creatable: false,\n  multi: false,\n  searchable: false,\n  minWidth: '120px',\n  valueKey: 'value',\n  disabled: false,\n};\n\nDropdown.propTypes = {\n  backgroundDark: PropTypes.bool,\n  clearable: PropTypes.bool,\n  creatable: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  onCreate: PropTypes.func,\n  options: PropTypes.array.isRequired,\n  placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  searchable: PropTypes.bool,\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  valueKey: PropTypes.string,\n  value: PropTypes.any,\n  multi: PropTypes.bool,\n  components: PropTypes.object,\n  noResultsText: PropTypes.string,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nDropdown.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default Dropdown;\n"],"mappings":"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","ignoreList":[]}
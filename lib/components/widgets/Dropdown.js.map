{"version":3,"file":"Dropdown.js","names":["_propTypes","_interopRequireDefault","require","_react","_interopRequireWildcard","_reactSelect","_classnames","_isNil","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","Dropdown","Component","constructor","props","onChange","bind","selection","multi","valueKey","map","s","render","minWidth","placeholder","clearable","value","options","searchable","noResultsText","disabled","className","width","localize","_","context","dropdownStyle","opts","opt","label","dropdownContainerClass","classnames","backgroundDark","getOption","isNil","find","o","createElement","style","isClearable","Array","isArray","reduce","acc","v","push","isSearchable","isMulti","noOptionsMessage","getOptionValue","getOptionLabel","isDisabled","classNamePrefix","components","__reactstandin__regenerateByEval","key","code","eval","defaultProps","propTypes","PropTypes","bool","func","isRequired","array","oneOfType","string","object","number","any","contextTypes","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/Dropdown.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport Select from 'react-select';\nimport classnames from 'classnames';\nimport isNil from 'lodash/isNil';\n\nclass Dropdown extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onChange = this.onChange.bind(this);\n  }\n\n  onChange(selection) {\n    const {multi, onChange, valueKey} = this.props;\n\n    if (!selection) {\n      return onChange(null);\n    }\n\n    return multi ? onChange(selection.map((s) => s[valueKey])) : onChange(selection[valueKey]);\n  }\n\n  render() {\n    const {\n      minWidth,\n      placeholder,\n      clearable,\n      value,\n      options,\n      searchable,\n      multi,\n      noResultsText,\n      valueKey,\n      disabled,\n      className,\n      width,\n    } = this.props;\n\n    const {localize: _} = this.context;\n\n    const dropdownStyle = {minWidth};\n    if (width) {\n      dropdownStyle.width = width;\n    }\n\n    const opts = options.map((opt) =>\n      typeof opt === 'string' ? {label: opt, [valueKey]: opt} : opt\n    );\n\n    const dropdownContainerClass = classnames('dropdown-container', {\n      'dropdown--dark': this.props.backgroundDark,\n      [className]: className,\n    });\n\n    const getOption = (value) => {\n      if (isNil(value)) {\n        return null;\n      }\n\n      return opts.find((o) => o[valueKey] === value) || {label: value, [valueKey]: value};\n    };\n\n    return (\n      <div className={dropdownContainerClass} style={dropdownStyle}>\n        <Select\n          placeholder={placeholder || _('Select an Option')}\n          isClearable={clearable}\n          value={\n            Array.isArray(value)\n              ? value.reduce((acc, v) => {\n                  acc.push(getOption(v));\n                  return acc;\n                }, [])\n              : getOption(value)\n          }\n          options={opts}\n          isSearchable={searchable}\n          onChange={this.onChange}\n          isMulti={multi}\n          noOptionsMessage={() => noResultsText || _('No Results')}\n          getOptionValue={(o) => o[valueKey]}\n          getOptionLabel={(o) => o.label}\n          isDisabled={disabled}\n          className={dropdownContainerClass}\n          classNamePrefix=\"Select\"\n          components={this.props.components}\n        />\n      </div>\n    );\n  }\n}\n\nDropdown.defaultProps = {\n  clearable: true,\n  multi: false,\n  searchable: false,\n  minWidth: '120px',\n  valueKey: 'value',\n  disabled: false,\n};\n\nDropdown.propTypes = {\n  backgroundDark: PropTypes.bool,\n  clearable: PropTypes.bool,\n  onChange: PropTypes.func.isRequired,\n  options: PropTypes.array.isRequired,\n  placeholder: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  searchable: PropTypes.bool,\n  minWidth: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  valueKey: PropTypes.string,\n  value: PropTypes.any,\n  multi: PropTypes.bool,\n  components: PropTypes.object,\n  noResultsText: PropTypes.string,\n  disabled: PropTypes.bool,\n  className: PropTypes.string,\n  width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\n\nDropdown.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default Dropdown;\n"],"mappings":"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","ignoreList":[]}
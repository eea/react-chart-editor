{"version":3,"file":"FlaglistCheckboxGroup.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_CheckboxGroup","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","FlaglistCheckboxGroup","Component","constructor","props","currentActiveOption","activeOption","state","parseFlags","handleChange","bind","option","options","map","o","value","join","UNSAFE_componentWillReceiveProps","nextProps","setState","newOptions","newActiveOptions","checked","slice","length","onChange","renderCheckedOption","activeOptions","split","allOptions","currentChecked","indexOf","push","label","render","createElement","className","orientation","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","arrayOf","shape","any","isRequired","string","func","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/FlaglistCheckboxGroup.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport CheckboxGroup from './CheckboxGroup';\n\n// Component handles activeOption with shape \"x+y+z\"\n// and ties it to the CheckboxGroup Component\nclass FlaglistCheckboxGroup extends Component {\n  constructor(props) {\n    super(props);\n\n    let currentActiveOption;\n    if (props.activeOption !== null) {\n      currentActiveOption = props.activeOption;\n    } else {\n      currentActiveOption = '';\n    }\n\n    this.state = {\n      activeOption: this.parseFlags(currentActiveOption),\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n\n  // convert plotly.js's \"all\" or \"none\" option in its `flaglist` type\n  // to a series of options separated by `+` that our component can handle\n  parseFlags(option) {\n    let activeOption;\n    if (option === 'all') {\n      activeOption = this.props.options.map((o) => o.value).join('+');\n    } else if (option === 'none') {\n      activeOption = '';\n    } else {\n      activeOption = option;\n    }\n    return activeOption;\n  }\n\n  // Sync local state to parent props.\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({activeOption: this.parseFlags(nextProps.activeOption)});\n  }\n\n  // Called whenever a checkbox is changed, this updates the local\n  // state to reflect the new activeOptions and then called props.onChange with\n  // the new options.\n  handleChange(newOptions) {\n    let newActiveOptions = '';\n\n    newOptions.map((option) => {\n      if (option.checked === true) {\n        newActiveOptions += option.value + '+';\n      }\n    });\n\n    newActiveOptions = newActiveOptions.slice(0, -1);\n\n    if (newActiveOptions.length === 0) {\n      newActiveOptions = 'none';\n    }\n\n    this.setState({activeOption: newActiveOptions});\n    this.props.onChange(newActiveOptions);\n  }\n\n  // Turns the activeOptions \"e.g \"x+y+z\" into an array that\n  // the CheckboxGroup component can handle\n  renderCheckedOption() {\n    const activeOptions =\n      typeof this.state.activeOption === 'string'\n        ? this.state.activeOption.split('+')\n        : [this.state.activeOption];\n    const allOptions = this.props.options;\n    const newOptions = [];\n\n    allOptions.map((option) => {\n      let currentChecked;\n\n      if (activeOptions.indexOf(option.value) > -1) {\n        currentChecked = true;\n      } else {\n        currentChecked = false;\n      }\n\n      newOptions.push({\n        label: option.label,\n        value: option.value,\n        checked: currentChecked,\n      });\n    });\n\n    return newOptions;\n  }\n\n  render() {\n    return (\n      <CheckboxGroup\n        options={this.renderCheckedOption()}\n        onChange={this.handleChange}\n        className={this.props.className}\n        orientation={this.props.orientation}\n      />\n    );\n  }\n}\n\nFlaglistCheckboxGroup.propTypes = {\n  options: PropTypes.arrayOf(\n    PropTypes.shape({\n      value: PropTypes.any.isRequired,\n      label: PropTypes.string.isRequired,\n    })\n  ).isRequired,\n  activeOption: PropTypes.any,\n  onChange: PropTypes.func,\n  className: PropTypes.string,\n  orientation: PropTypes.string,\n};\n\nexport default FlaglistCheckboxGroup;\n"],"mappings":"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","ignoreList":[]}
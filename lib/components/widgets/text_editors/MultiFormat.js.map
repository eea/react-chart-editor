{"version":3,"file":"MultiFormat.js","names":["_HTML","_interopRequireDefault","require","_LaTeX","_react","_interopRequireWildcard","_propTypes","_RichText","_convertFormats","_classnames","_Button","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","MultiFormatTextEditor","Component","constructor","props","context","_","localize","editors","key","label","component","RichTextEditor","LaTeXEditor","HTMLEditor","startTab","isLaTeXExpr","value","state","nextTab","currentTab","messages","onModeChange","bind","convertValue","editor","htmlToLaTeX","laTeXToHTML","_this$props","defaultValuePattern","onChange","trimmedValue","trim","trimmedValueLength","length","convertedValue","isDefaultValue","test","switchingBetweenRichAndHtml","hasTextExpression","setState","renderConfirmationPanel","render","onCancel","onContinue","_this$props2","createElement","className","variant","onClick","renderEditor","_this$props3","placeholder","richTextClassNames","classnames","selected","latexClassNames","bottomTabClassNames","Editor","filter","ModeTabsText","map","showBottomTab","BottomTab","concat","toLowerCase","content","__reactstandin__regenerateByEval","code","eval","propTypes","PropTypes","instanceOf","RegExp","func","isRequired","string","defaultProps","contextTypes","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../../src/components/widgets/text_editors/MultiFormat.js"],"sourcesContent":["import HTMLEditor from './HTML';\nimport LaTeXEditor from './LaTeX';\nimport React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport RichTextEditor from './RichText';\nimport {isLaTeXExpr, htmlToLaTeX, laTeXToHTML, hasTextExpression} from './convertFormats';\nimport classnames from 'classnames';\nimport Button from 'components/widgets/Button';\n\nclass MultiFormatTextEditor extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    const _ = context.localize;\n\n    const editors = [\n      {\n        key: 'RICH_TEXT',\n        label: _('Rich Text'),\n        component: RichTextEditor,\n      },\n      {\n        key: 'LATEX',\n        label: _('LaTeX'),\n        component: LaTeXEditor,\n      },\n      {\n        key: 'HTML',\n        label: _('Edit in HTML'),\n        component: HTMLEditor,\n      },\n    ];\n\n    const startTab = isLaTeXExpr(props.value) ? 'LATEX' : 'RICH_TEXT';\n\n    this.state = {\n      /*\n       * When nextTab is set, we are waiting for confirmation from the\n       * user before switching to the next tab.\n       */\n      nextTab: null,\n      currentTab: startTab,\n      messages: [],\n    };\n\n    this.onModeChange = this.onModeChange.bind(this);\n    this.editors = editors;\n  }\n\n  /**\n   * Convert a value to the format expected by the provided editor.\n   *\n   * @param {String} value The current value\n   * @param {String} editor The editor to convert for [RICH_TEXT|LATEX]\n   * @returns {String} The converted value\n   */\n  convertValue(value, editor) {\n    const {currentTab} = this.state;\n\n    if (currentTab === 'RICH_TEXT' && editor === 'LATEX') {\n      return htmlToLaTeX(value);\n    }\n\n    if (currentTab === 'LATEX' && editor === 'RICH_TEXT') {\n      return laTeXToHTML(value);\n    }\n\n    if (currentTab === 'HTML' && editor === 'LATEX') {\n      return htmlToLaTeX(value);\n    }\n\n    /*\n     * Else we're switching from / to HTML / Rich Text Editor\n     * no conversion is needed\n     */\n    return value;\n  }\n\n  onModeChange(nextTab) {\n    const {localize: _} = this.context;\n    const {defaultValuePattern, value, onChange} = this.props;\n    const {currentTab} = this.state;\n    const trimmedValue = value.trim();\n    const trimmedValueLength = trimmedValue.length;\n    const convertedValue = this.convertValue(trimmedValue, nextTab);\n\n    /*\n     * Check against default value - we have to compare the plain\n     * value, not the LaTeX format value with `\\text{}` wrapping.\n     */\n    const isDefaultValue = isLaTeXExpr(trimmedValue)\n      ? defaultValuePattern.test(convertedValue)\n      : defaultValuePattern.test(trimmedValue);\n\n    const switchingBetweenRichAndHtml =\n      (currentTab === 'RICH_TEXT' && nextTab === 'HTML') ||\n      (currentTab === 'HTML' && nextTab === 'RICH_TEXT');\n\n    if (!isDefaultValue && trimmedValueLength > 0 && !switchingBetweenRichAndHtml) {\n      // Show confirmation dialogue and defer tab change.\n      let messages;\n\n      if (!isLaTeXExpr(value)) {\n        messages = [\n          _(\"LaTeX is a math typesetting language that doesn't work with rich text.\"),\n          _('Continuing will convert your note to LaTeX-style text.'),\n        ];\n      } else if (hasTextExpression(value)) {\n        messages = [\n          _('Rich text is incompatible with LaTeX.'),\n          _('Continuing will convert your LaTeX expression into raw text.'),\n        ];\n      } else {\n        messages = [\n          _('Rich text is incompatible with LaTeX.'),\n          _('Continuing will remove your expression.'),\n        ];\n      }\n\n      this.setState({\n        nextTab,\n        messages,\n      });\n\n      return;\n    }\n\n    // Show requested tab immediately.\n    this.setState({\n      currentTab: nextTab,\n    });\n\n    // Convert the annotation and dispatch onChange action\n    onChange(convertedValue);\n  }\n\n  renderConfirmationPanel(render) {\n    if (!render) {\n      return null;\n    }\n\n    const {localize: _} = this.context;\n    const {messages} = this.state;\n\n    const onCancel = () => {\n      this.setState({\n        nextTab: null,\n      });\n    };\n\n    const onContinue = () => {\n      const {nextTab} = this.state;\n      const {onChange, value} = this.props;\n\n      // Set next tab as active\n      this.setState({\n        currentTab: nextTab,\n        nextTab: null,\n      });\n\n      // Convert the annotation\n      const convertedValue = this.convertValue(value, nextTab);\n      onChange(convertedValue);\n    };\n\n    return (\n      <div className=\"multi-format-editor__confirmation-panel\">\n        <div className=\"multi-format-editor__confirmation-panel__content\">\n          <h3 className=\"multi-format-editor__confirmation-panel__header\">{_('Heads up!')}</h3>\n          <div className=\"multi-format-editor__confirmation-panel__message\">\n            <p className=\"multi-format-editor__confirmation-panel__message-primary\">\n              {messages[0]}\n            </p>\n            <p className=\"multi-format-editor__confirmation-panel__message-secondary\">\n              {messages[1]}\n            </p>\n          </div>\n        </div>\n        <div className=\"multi-format-editor__confirmation-panel__actions\">\n          <Button\n            variant=\"default\"\n            className=\"multi-format-editor__confirmation-panel__cancel-button\"\n            onClick={onCancel}\n          >\n            {_('Go back')}\n          </Button>\n          <Button\n            variant=\"primary\"\n            className=\"multi-format-editor__confirmation-panel__continue-button\"\n            onClick={onContinue}\n          >\n            {_('Continue')}\n          </Button>\n        </div>\n      </div>\n    );\n  }\n\n  renderEditor(render) {\n    if (!render) {\n      return null;\n    }\n    const {localize: _} = this.context;\n    const {onChange, placeholder, value} = this.props;\n\n    const {currentTab} = this.state;\n\n    const richTextClassNames = classnames('multi-format-editor__tab', 'top-tab', 'left', {\n      selected: currentTab === 'RICH_TEXT',\n    });\n    const latexClassNames = classnames('multi-format-editor__tab', 'top-tab', 'right', {\n      selected: currentTab === 'LATEX',\n    });\n    const bottomTabClassNames = classnames('multi-format-editor__tab', 'bottom-tab');\n\n    const Editor = this.editors.filter((editor) => editor.key === currentTab)[0].component;\n\n    const ModeTabsText = this.editors.map((editor) => editor.label);\n\n    const showBottomTab = currentTab === 'HTML' || currentTab === 'RICH_TEXT';\n    const BottomTab =\n      currentTab === 'HTML' ? (\n        <div className={bottomTabClassNames} onClick={() => this.onModeChange('RICH_TEXT')}>\n          {_('Edit in Rich Text')}\n        </div>\n      ) : (\n        <div className={bottomTabClassNames} onClick={() => this.onModeChange('HTML')}>\n          {_('Edit in HTML')}\n        </div>\n      );\n\n    return (\n      <div className=\"multi-format-editor__root__wrapper\">\n        <div className=\"multi-format-editor__tabs\">\n          <div className={richTextClassNames} onClick={() => this.onModeChange('RICH_TEXT')}>\n            {ModeTabsText[0]}\n          </div>\n          <div className={latexClassNames} onClick={() => this.onModeChange('LATEX')}>\n            {ModeTabsText[1]}\n          </div>\n        </div>\n        <div className={`multi-format-editor__content__wrapper__${currentTab.toLowerCase()}`}>\n          <Editor\n            className={`multi-format-editor__${currentTab.toLowerCase()}`}\n            onChange={onChange}\n            placeholder={placeholder}\n            value={value}\n          />\n        </div>\n        {showBottomTab ? BottomTab : null}\n      </div>\n    );\n  }\n\n  render() {\n    /*\n     * `renderConfirmationPanel` and `renderEditor` are mutually\n     * exclusive; only one will return a component.\n     */\n    const {nextTab} = this.state;\n    const content =\n      this.renderConfirmationPanel(nextTab !== null) || this.renderEditor(nextTab === null);\n\n    return <div className=\"multi-format-editor__root\">{content}</div>;\n  }\n}\n\nMultiFormatTextEditor.propTypes = {\n  defaultValuePattern: PropTypes.instanceOf(RegExp),\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n};\n\nMultiFormatTextEditor.defaultProps = {\n  defaultValuePattern: /^$/,\n  placeholder: '',\n  value: '',\n};\n\nMultiFormatTextEditor.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default MultiFormatTextEditor;\n"],"mappings":"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","ignoreList":[]}
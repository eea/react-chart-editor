{"version":3,"file":"index.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_draftJs","_draftJsExportHtml","_draftJsImportHtml","_configuration","_LinkDecorator","_LinkEditor","_StyleButtonGroup","_debounce","_DraftCommands","_decoratorStrategies","_getSelectionCoordinates","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","RichText","Component","constructor","props","context","state","editorState","value","toString","trim","length","createEditorStateFromHTML","EditorState","createEmpty","getDecorator","bind","getEditorStateAsHTML","focus","getParentContainerVerticalOffset","onChange","onBlur","onFocus","onLinkEditorBlur","onLinkEditorFocus","onLinkEditorChange","onLinkEditorClose","onKeyCommand","onReturnPressed","onStyleButtonToggle","renderLinkEditor","UNSAFE_componentWillReceiveProps","nextProps","_this$state","linkEditorFocus","editorFocus","setState","shouldComponentUpdate","nextState","_this$props","placeholder","_this$state2","CompositeDecorator","strategy","findLinkEntities","component","LinkDecorator","style","STYLE_MAP","LINK","html","contentState","stateFromHTML","inlineStyles","SUPERSCRIPT","element","SUBSCRIPT","defaultBlockTag","decorator","createWithContent","getCurrentContent","stateToHTML","STYLES_TO_HTML_TAGS","editorInput","document","querySelector","scrollTop","selectedLinkID","selection","getSelection","entityKey","getEntityKeyAt","newState","cursorHasLink","assign","htmlContent","replace","debounce","linkID","urlValue","selectionState","Entity","replaceData","url","updatedEditorState","RichUtils","toggleLink","command","newEditorState","handleKeyCommand","insertSoftNewline","inlineStyle","toggleInlineStyle","linkEntity","getEntityByKey","linkURL","getData","coordinates","getCoordinates","createElement","onURLChange","onClose","render","_this$state3","linkIsSelected","Boolean","className","styles","INLINE_STYLES","currentStyle","getCurrentInlineStyle","onToggle","onClick","Editor","customStyleMap","handleReturn","spellCheck","ref","input","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","func","isRequired","string","any","defaultProps","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../../../src/components/widgets/text_editors/RichText/index.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {CompositeDecorator, Editor, EditorState, Entity, RichUtils} from 'draft-js';\nimport {stateToHTML} from '@plotly/draft-js-export-html';\nimport {stateFromHTML} from 'draft-js-import-html';\n\n// Constants\nimport {\n  SUPERSCRIPT,\n  SUBSCRIPT,\n  LINK,\n  STYLES_TO_HTML_TAGS,\n  STYLE_MAP,\n  INLINE_STYLES,\n} from './configuration';\n\n// Components\nimport LinkDecorator from './LinkDecorator';\nimport LinkEditor from './LinkEditor';\nimport StyleButtonGroup from './StyleButtonGroup';\n\n// Libraries\nimport debounce from './debounce';\nimport {\n  getEntityKeyAt,\n  getEntityByKey,\n  toggleInlineStyle,\n  handleKeyCommand,\n  insertSoftNewline,\n  cursorHasLink,\n} from './DraftCommands';\nimport {findLinkEntities} from './decoratorStrategies';\nimport getCoordinates from './getSelectionCoordinates';\n\nclass RichText extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    /*\n     * Initially set state based on the plotly.js annotation content.\n     * After this, as long as this component is mounted, it owns the source\n     * of truth for the annotation value via `this.state.editorState`.\n     * This state may be updated externally via a prop update.\n     * See `UNSAFE_componentWillReceiveProps`.\n     */\n    this.state = {\n      editorState: props.value.toString().trim().length\n        ? this.createEditorStateFromHTML(props.value)\n        : EditorState.createEmpty(this.getDecorator()),\n    };\n\n    this.getDecorator = this.getDecorator.bind(this);\n    this.createEditorStateFromHTML = this.createEditorStateFromHTML.bind(this);\n    this.getEditorStateAsHTML = this.getEditorStateAsHTML.bind(this);\n    this.focus = this.focus.bind(this);\n    this.getParentContainerVerticalOffset = this.getParentContainerVerticalOffset.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n    this.onFocus = this.onFocus.bind(this);\n    this.onLinkEditorBlur = this.onLinkEditorBlur.bind(this);\n    this.onLinkEditorFocus = this.onLinkEditorFocus.bind(this);\n    this.onLinkEditorChange = this.onLinkEditorChange.bind(this);\n    this.onLinkEditorClose = this.onLinkEditorClose.bind(this);\n    this.onKeyCommand = this.onKeyCommand.bind(this);\n    this.onReturnPressed = this.onReturnPressed.bind(this);\n    this.onStyleButtonToggle = this.onStyleButtonToggle.bind(this);\n    this.renderLinkEditor = this.renderLinkEditor.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const {linkEditorFocus, editorFocus} = this.state;\n\n    /*\n     * Don't worry about what plotly.js thinks the annotation value\n     * should be while we're using our editor, for these reasons:\n     *\n     * 1. The editor should be considered the source of truth, unless the\n     *    user is actually editing the annotation inline, in the chart.\n     * 2. Sometimes we get updates with stale values.\n     */\n    if (linkEditorFocus || editorFocus) {\n      return;\n    }\n\n    // Sync editor state with plotly annotation value.\n    const editorState = this.createEditorStateFromHTML(nextProps.value);\n\n    this.setState({editorState});\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const {placeholder, value} = this.props;\n    const {editorState, linkEditorFocus} = this.state;\n\n    // If relevant props or state changed, return true.\n    if (\n      // Always update when user is editing link\n      linkEditorFocus ||\n      placeholder !== nextProps.placeholder ||\n      value !== nextProps.value ||\n      editorState !== nextState.editorState\n    ) {\n      return true;\n    }\n\n    // Compare incoming value with HTML representation of state.\n    return nextProps.value !== this.getEditorStateAsHTML(editorState);\n  }\n\n  getDecorator() {\n    return new CompositeDecorator([\n      {\n        strategy: findLinkEntities,\n        component: LinkDecorator,\n\n        // Props for the LinkDecorator component\n        props: {\n          style: STYLE_MAP[LINK],\n        },\n      },\n    ]);\n  }\n\n  createEditorStateFromHTML(html) {\n    const contentState = stateFromHTML(html, {\n      inlineStyles: {\n        [SUPERSCRIPT]: {element: 'sup'},\n        [SUBSCRIPT]: {element: 'sub'},\n      },\n      defaultBlockTag: null,\n    });\n\n    const decorator = this.getDecorator();\n\n    /*\n     * Work around issue described here:\n     * https://github.com/facebook/draft-js/issues/185\n     * #issuecomment-217207612\n     */\n\n    // Parse once to generate entity instances\n    EditorState.createWithContent(contentState);\n\n    // Now we can add our decorator\n    return EditorState.createWithContent(contentState, decorator);\n  }\n\n  getEditorStateAsHTML(editorState) {\n    const contentState = editorState.getCurrentContent();\n\n    return stateToHTML(contentState, {\n      defaultBlockTag: null,\n      inlineStyles: STYLES_TO_HTML_TAGS,\n    });\n  }\n\n  focus() {\n    this.editorInput.focus();\n  }\n\n  // Used to properly calculate user selection coordinates.\n  getParentContainerVerticalOffset() {\n    return document.querySelector('.panel').scrollTop;\n  }\n\n  onChange(editorState) {\n    const {selectedLinkID} = this.state;\n    const selection = editorState.getSelection();\n    const entityKey = getEntityKeyAt(editorState, selection);\n\n    const newState = {editorState};\n\n    // Update selected link ID\n    if (!cursorHasLink(editorState, selection)) {\n      // If a link is no longer selected, clear selected link ID state\n      Object.assign(newState, {\n        selectedLinkID: null,\n      });\n    } else if (selectedLinkID !== entityKey) {\n      // If link selection is new / different link selected, update it\n      Object.assign(newState, {\n        selectedLinkID: entityKey,\n      });\n    }\n\n    // Update internal state\n    this.setState(newState);\n\n    // Dispatch changes to plotly.js\n    // TODO consider moving to render (plotly.js is a render target)\n    const htmlContent = this.getEditorStateAsHTML(editorState).replace(/<br>\\n*/, '<br>');\n    if (this.props.value !== htmlContent) {\n      debounce(this.props.onChange, [htmlContent]);\n    }\n  }\n\n  onBlur() {\n    this.setState({\n      editorFocus: false,\n    });\n  }\n\n  onFocus() {\n    this.setState({\n      editorFocus: true,\n    });\n  }\n\n  onLinkEditorBlur() {\n    this.setState({\n      linkEditorFocus: false,\n    });\n  }\n\n  onLinkEditorFocus() {\n    this.setState({\n      linkEditorFocus: true,\n    });\n  }\n\n  onLinkEditorChange(linkID, urlValue) {\n    const {editorState} = this.state;\n    const selectionState = editorState.getSelection();\n\n    // Update link URL\n    Entity.replaceData(linkID, {url: urlValue});\n\n    // Trigger an editor state update\n    const updatedEditorState = RichUtils.toggleLink(editorState, selectionState, linkID);\n\n    this.onChange(updatedEditorState);\n  }\n\n  /**\n   * Will be called by LinkEditor when the user confirms or cancels new URL.\n   * Will not be called if LinkEditor is closed by moving the cursor off of\n   * the selected LINK entity.\n   *\n   * @param   {String} linkID The link entity key related to this LinkEditor\n   * @returns {undefined}\n   */\n  onLinkEditorClose() {\n    /*\n     * Focus on editor immediately to avoid error that occurs when\n     * `selection.extend` is called and another element has focus.\n     * https://bugzilla.mozilla.org/show_bug.cgi?id=921444\n     * https://github.com/facebook/draft-js/blob/342576bf7186d07c82a41d9ca8169130669747d6/src/component/selection/setDraftEditorSelection.js#L128-L134\n     */\n    this.focus();\n\n    // Hide the editor.\n    this.setState({\n      linkEditorFocus: false,\n      selectedLinkID: null,\n    });\n  }\n\n  onKeyCommand(command) {\n    const newEditorState = handleKeyCommand(this.state.editorState, command);\n\n    if (newEditorState) {\n      this.onChange(newEditorState);\n\n      // Let draft-js know that keyboard command is handled.\n      return true;\n    }\n\n    // Default draft-js implementation\n    return false;\n  }\n\n  onReturnPressed() {\n    const newEditorState = insertSoftNewline(this.state.editorState);\n\n    // Update internal and external state\n    this.onChange(newEditorState);\n\n    // Cancel draft-js implementation\n    return true;\n  }\n\n  onStyleButtonToggle(inlineStyle) {\n    const newEditorState = toggleInlineStyle(this.state.editorState, inlineStyle);\n\n    if (newEditorState) {\n      this.onChange(newEditorState);\n    }\n  }\n\n  renderLinkEditor(selectedLinkID) {\n    if (!selectedLinkID) {\n      return null;\n    }\n\n    // All entities are link entities.\n    const linkEntity = getEntityByKey(selectedLinkID);\n    const linkURL = linkEntity.getData().url;\n\n    const coordinates = getCoordinates();\n\n    return (\n      <LinkEditor\n        onFocus={this.onLinkEditorFocus}\n        onURLChange={this.onLinkEditorChange}\n        onBlur={this.onLinkEditorBlur}\n        onClose={this.onLinkEditorClose}\n        coordinates={coordinates}\n        linkID={selectedLinkID}\n        linkURL={linkURL}\n      />\n    );\n  }\n\n  render() {\n    const {editorState, selectedLinkID} = this.state;\n    const linkIsSelected = Boolean(selectedLinkID);\n\n    return (\n      <div className=\"rich-text-editor__root\">\n        <StyleButtonGroup\n          styles={INLINE_STYLES}\n          currentStyle={editorState.getCurrentInlineStyle()}\n          linkIsSelected={linkIsSelected}\n          onToggle={this.onStyleButtonToggle}\n        />\n        <div className=\"rich-text-editor__editor\" onClick={this.focus}>\n          <Editor\n            customStyleMap={STYLE_MAP}\n            editorState={editorState}\n            handleReturn={this.onReturnPressed}\n            handleKeyCommand={this.onKeyCommand}\n            onChange={this.onChange}\n            onBlur={this.onBlur}\n            onFocus={this.onFocus}\n            placeholder={this.props.placeholder}\n            spellCheck={false}\n            ref={(input) => (this.editorInput = input)}\n          />\n        </div>\n        {this.renderLinkEditor(selectedLinkID)}\n      </div>\n    );\n  }\n}\n\nRichText.propTypes = {\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.any,\n};\n\nRichText.defaultProps = {\n  placeholder: '',\n  value: '',\n};\n\nexport default RichText;\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"LaTeX.js","names":["_react","_interopRequireDefault","require","_TextArea","_propTypes","_convertFormats","e","__esModule","default","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","a","LaTeX","TextArea","constructor","props","unwrappedValue","unwrap","value","state","onChange","bind","onBlur","UNSAFE_componentWillReceiveProps","nextProps","unwrappedNextValue","setState","isWrapped","substr","length","wrap","concat","target","render","className","editorClassNames","createElement","placeholder","__reactstandin__regenerateByEval","key","code","eval","exports","propTypes","PropTypes","string","func","isRequired","defaultProps","reactHotLoader","register","leaveModule"],"sources":["../../../../src/components/widgets/text_editors/LaTeX.js"],"sourcesContent":["import React from 'react';\nimport TextArea from '../TextArea';\nimport PropTypes from 'prop-types';\n\nimport {isLaTeXExpr as isWrapped} from './convertFormats';\n\nexport default class LaTeX extends TextArea {\n  constructor(props) {\n    super(props);\n\n    // Internally, represesent the LaTeX document without the\n    // wrapping `$...$` characters.\n    const unwrappedValue = this.unwrap(props.value);\n\n    this.state = {\n      value: unwrappedValue,\n    };\n    this.onChange = this.onChange.bind(this);\n    this.onBlur = this.onBlur.bind(this);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const unwrappedNextValue = this.unwrap(nextProps.value);\n\n    if (unwrappedNextValue !== this.state.value) {\n      this.setState({\n        value: unwrappedNextValue,\n      });\n    }\n  }\n\n  // Return a new value with wrapping `$...$` removed.\n  unwrap(value) {\n    if (isWrapped(value)) {\n      return value.substr(1, value.length - 2);\n    }\n\n    return value;\n  }\n\n  // Wrap value in `$...$`.\n  wrap(value) {\n    if (!isWrapped(value)) {\n      return `$${value}$`;\n    }\n\n    return value;\n  }\n\n  onChange(e) {\n    this.setState({\n      value: e.target.value,\n    });\n  }\n\n  onBlur(e) {\n    const value = this.wrap(e.target.value);\n    this.props.onChange(value);\n  }\n\n  render() {\n    const {className} = this.props;\n    const editorClassNames = className ? className : 'text-editor__latex';\n    return (\n      <textarea\n        value={this.state.value}\n        placeholder={this.props.placeholder}\n        onChange={this.onChange}\n        onBlur={this.onBlur}\n        className={editorClassNames}\n      />\n    );\n  }\n}\n\nLaTeX.propTypes = {\n  className: PropTypes.string,\n  onChange: PropTypes.func.isRequired,\n  placeholder: PropTypes.string,\n  value: PropTypes.string,\n};\n\nLaTeX.defaultProps = {\n  value: '',\n  placeholder: '',\n};\n"],"mappings":"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","ignoreList":[]}
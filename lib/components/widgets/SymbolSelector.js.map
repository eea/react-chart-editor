{"version":3,"file":"SymbolSelector.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_classnames","_plotlyIcons","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","SymbolSelector","Component","constructor","props","state","isOpen","togglePanel","bind","shouldComponentUpdate","nextProps","nextState","markerColor","borderColor","nextMarkerColor","nextBorderColor","value","setState","renderActiveOption","symbolOptions","currentSymbol","find","symbol","createElement","style","paddingTop","paddingLeft","symbolStyle","stroke","fill","strokeOpacity","strokeWidth","width","height","transform","d","label","renderOptions","map","option","className","key","onClick","onChange","render","toggleClass","classnames","backgroundDark","CarretDownIcon","__reactstandin__regenerateByEval","code","eval","exports","propTypes","PropTypes","bool","string","func","array","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/SymbolSelector.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport {CarretDownIcon} from 'plotly-icons';\n\nexport default class SymbolSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n    };\n    this.togglePanel = this.togglePanel.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const {markerColor, borderColor} = this.props;\n    const {markerColor: nextMarkerColor, borderColor: nextBorderColor} = nextProps;\n\n    return (\n      this.props.value !== nextProps.value ||\n      this.state.isOpen !== nextState.isOpen ||\n      markerColor !== nextMarkerColor ||\n      borderColor !== nextBorderColor\n    );\n  }\n\n  togglePanel() {\n    this.setState({isOpen: !this.state.isOpen});\n  }\n\n  renderActiveOption() {\n    const {markerColor, borderColor, symbolOptions, value} = this.props;\n    const currentSymbol = symbolOptions.find((symbol) => symbol.value === value);\n    if (!currentSymbol) {\n      return (\n        <span\n          style={{\n            paddingTop: '5px',\n            paddingLeft: '15px',\n          }}\n        >\n          {'-'}\n        </span>\n      );\n    }\n\n    const symbolStyle = {\n      stroke: currentSymbol.fill === 'none' ? markerColor : borderColor,\n      strokeOpacity: '1',\n      strokeWidth: '2px',\n      fill: currentSymbol.fill === 'none' ? 'none' : markerColor,\n    };\n\n    return (\n      <span>\n        <svg width=\"18\" height=\"18\">\n          <g transform=\"translate(8,8)\">\n            <path d={currentSymbol.label} style={symbolStyle} />\n          </g>\n        </svg>\n      </span>\n    );\n  }\n\n  renderOptions() {\n    const {markerColor, borderColor, symbolOptions} = this.props;\n    return symbolOptions.map((option) => {\n      const {fill, value, label} = option;\n\n      const symbolStyle = {\n        stroke: fill === 'none' ? markerColor : borderColor,\n        strokeOpacity: '1',\n        strokeWidth: '2px',\n        fill: fill === 'none' ? 'none' : markerColor,\n      };\n      return (\n        <div\n          className=\"symbol-selector__item\"\n          key={value}\n          onClick={() => this.props.onChange(value)}\n        >\n          <svg width=\"28\" height=\"28\" className=\"symbol-selector__symbol\" data-value={value}>\n            <g transform=\"translate(14,14)\">\n              <path d={label} style={symbolStyle} />\n            </g>\n          </svg>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const {isOpen} = this.state;\n    const toggleClass = classnames('symbol-selector__toggle', {\n      'symbol-selector__toggle--dark': this.props.backgroundDark,\n    });\n\n    return (\n      <div>\n        <div className={toggleClass} onClick={this.togglePanel}>\n          <span className=\"symbol-selector__toggle_option\">{this.renderActiveOption()}</span>\n          <span>\n            <CarretDownIcon className=\"symbol-selector__toggle__caret\" />\n          </span>\n        </div>\n        {isOpen && this.renderOptions()}\n      </div>\n    );\n  }\n}\n\nSymbolSelector.propTypes = {\n  backgroundDark: PropTypes.bool,\n  markerColor: PropTypes.string,\n  borderColor: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  symbolOptions: PropTypes.array,\n};\n"],"mappings":"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","ignoreList":[]}
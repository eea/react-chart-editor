{"version":3,"file":"SymbolSelector.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_classnames","_plotlyIcons","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","SymbolSelector","Component","constructor","props","state","isOpen","togglePanel","bind","shouldComponentUpdate","nextProps","nextState","_this$props","markerColor","borderColor","nextMarkerColor","nextBorderColor","value","setState","renderActiveOption","_this$props2","symbolOptions","currentSymbol","find","symbol","createElement","style","paddingTop","paddingLeft","symbolStyle","stroke","fill","strokeOpacity","strokeWidth","width","height","transform","d","label","renderOptions","_this$props3","map","option","className","key","onClick","onChange","render","toggleClass","classnames","backgroundDark","CarretDownIcon","__reactstandin__regenerateByEval","code","eval","exports","propTypes","PropTypes","bool","string","func","array","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/widgets/SymbolSelector.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport {CarretDownIcon} from 'plotly-icons';\n\nexport default class SymbolSelector extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpen: false,\n    };\n    this.togglePanel = this.togglePanel.bind(this);\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    const {markerColor, borderColor} = this.props;\n    const {markerColor: nextMarkerColor, borderColor: nextBorderColor} = nextProps;\n\n    return (\n      this.props.value !== nextProps.value ||\n      this.state.isOpen !== nextState.isOpen ||\n      markerColor !== nextMarkerColor ||\n      borderColor !== nextBorderColor\n    );\n  }\n\n  togglePanel() {\n    this.setState({isOpen: !this.state.isOpen});\n  }\n\n  renderActiveOption() {\n    const {markerColor, borderColor, symbolOptions, value} = this.props;\n    const currentSymbol = symbolOptions.find((symbol) => symbol.value === value);\n    if (!currentSymbol) {\n      return (\n        <span\n          style={{\n            paddingTop: '5px',\n            paddingLeft: '15px',\n          }}\n        >\n          {'-'}\n        </span>\n      );\n    }\n\n    const symbolStyle = {\n      stroke: currentSymbol.fill === 'none' ? markerColor : borderColor,\n      strokeOpacity: '1',\n      strokeWidth: '2px',\n      fill: currentSymbol.fill === 'none' ? 'none' : markerColor,\n    };\n\n    return (\n      <span>\n        <svg width=\"18\" height=\"18\">\n          <g transform=\"translate(8,8)\">\n            <path d={currentSymbol.label} style={symbolStyle} />\n          </g>\n        </svg>\n      </span>\n    );\n  }\n\n  renderOptions() {\n    const {markerColor, borderColor, symbolOptions} = this.props;\n    return symbolOptions.map((option) => {\n      const {fill, value, label} = option;\n\n      const symbolStyle = {\n        stroke: fill === 'none' ? markerColor : borderColor,\n        strokeOpacity: '1',\n        strokeWidth: '2px',\n        fill: fill === 'none' ? 'none' : markerColor,\n      };\n      return (\n        <div\n          className=\"symbol-selector__item\"\n          key={value}\n          onClick={() => this.props.onChange(value)}\n        >\n          <svg width=\"28\" height=\"28\" className=\"symbol-selector__symbol\" data-value={value}>\n            <g transform=\"translate(14,14)\">\n              <path d={label} style={symbolStyle} />\n            </g>\n          </svg>\n        </div>\n      );\n    });\n  }\n\n  render() {\n    const {isOpen} = this.state;\n    const toggleClass = classnames('symbol-selector__toggle', {\n      'symbol-selector__toggle--dark': this.props.backgroundDark,\n    });\n\n    return (\n      <div>\n        <div className={toggleClass} onClick={this.togglePanel}>\n          <span className=\"symbol-selector__toggle_option\">{this.renderActiveOption()}</span>\n          <span>\n            <CarretDownIcon className=\"symbol-selector__toggle__caret\" />\n          </span>\n        </div>\n        {isOpen && this.renderOptions()}\n      </div>\n    );\n  }\n}\n\nSymbolSelector.propTypes = {\n  backgroundDark: PropTypes.bool,\n  markerColor: PropTypes.string,\n  borderColor: PropTypes.string,\n  value: PropTypes.string,\n  onChange: PropTypes.func,\n  symbolOptions: PropTypes.array,\n};\n"],"mappings":"6FAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WACA,IAAAC,UAAA,CAAAC,sBAAA,CAAAF,OAAA,gBACA,IAAAG,WAAA,CAAAD,sBAAA,CAAAF,OAAA,gBACA,IAAAI,YAAA,CAAAJ,OAAA,iBAA4C,SAAAE,uBAAAG,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,WAAAG,yBAAAH,CAAA,wBAAAI,OAAA,iBAAAC,CAAA,KAAAD,OAAA,CAAAE,CAAA,KAAAF,OAAA,QAAAD,wBAAA,UAAAA,yBAAAH,CAAA,SAAAA,CAAA,CAAAM,CAAA,CAAAD,CAAA,GAAAL,CAAA,WAAAN,wBAAAM,CAAA,CAAAK,CAAA,MAAAA,CAAA,EAAAL,CAAA,EAAAA,CAAA,CAAAC,UAAA,QAAAD,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAE,OAAA,CAAAF,CAAA,MAAAM,CAAA,CAAAH,wBAAA,CAAAE,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAC,GAAA,CAAAP,CAAA,SAAAM,CAAA,CAAAE,GAAA,CAAAR,CAAA,MAAAS,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAf,CAAA,gBAAAe,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,CAAAe,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,CAAAe,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAf,CAAA,CAAAe,CAAA,SAAAN,CAAA,CAAAP,OAAA,CAAAF,CAAA,CAAAM,CAAA,EAAAA,CAAA,CAAAa,GAAA,CAAAnB,CAAA,CAAAS,CAAA,EAAAA,CAAA,iBAAAW,WAAA,QAAAC,oBAAA,eAAAA,oBAAA,CAAAD,WAAA,CAAAE,SAAA,CAAAF,WAAA,EAAAA,WAAA,CAAAG,MAAA,UAAAC,aAAA,QAAAH,oBAAA,eAAAA,oBAAA,CAAAnB,OAAA,CAAAuB,SAAA,UAAAd,CAAA,SAAAA,CAAA,EAE7B,KAAM,CAAAe,cAAc,QAAS,CAAAC,gBAAU,CACpDC,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CACXC,MAAM,CAAE,KACV,CAAC,CACD,IAAI,CAACC,WAAW,CAAG,IAAI,CAACA,WAAW,CAACC,IAAI,CAAC,IAAI,CAC/C,CAEAC,qBAAqBA,CAACC,SAAS,CAAEC,SAAS,CAAE,CAC1C,IAAAC,WAAA,CAAmC,IAAI,CAACR,KAAK,CAAtCS,WAAW,CAAAD,WAAA,CAAXC,WAAW,CAAEC,WAAW,CAAAF,WAAA,CAAXE,WAAW,CAC/B,GAAoB,CAAAC,eAAe,CAAkCL,SAAS,CAAvEG,WAAW,CAAgCG,eAAe,CAAIN,SAAS,CAAzCI,WAAW,CAEhD,MACE,KAAI,CAACV,KAAK,CAACa,KAAK,GAAKP,SAAS,CAACO,KAAK,EACpC,IAAI,CAACZ,KAAK,CAACC,MAAM,GAAKK,SAAS,CAACL,MAAM,EACtCO,WAAW,GAAKE,eAAe,EAC/BD,WAAW,GAAKE,eAEpB,CAEAT,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACW,QAAQ,CAAC,CAACZ,MAAM,CAAE,CAAC,IAAI,CAACD,KAAK,CAACC,MAAM,CAAC,CAC5C,CAEAa,kBAAkBA,CAAA,CAAG,CACnB,IAAAC,YAAA,CAAyD,IAAI,CAAChB,KAAK,CAA5DS,WAAW,CAAAO,YAAA,CAAXP,WAAW,CAAEC,WAAW,CAAAM,YAAA,CAAXN,WAAW,CAAEO,aAAa,CAAAD,YAAA,CAAbC,aAAa,CAAEJ,KAAK,CAAAG,YAAA,CAALH,KAAK,CACrD,GAAM,CAAAK,aAAa,CAAGD,aAAa,CAACE,IAAI,CAAEC,MAAM,EAAKA,MAAM,CAACP,KAAK,GAAKA,KAAK,CAAC,CAC5E,GAAI,CAACK,aAAa,CAAE,CAClB,MACE,CAAAtD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,SACEC,KAAK,CAAE,CACLC,UAAU,CAAE,KAAK,CACjBC,WAAW,CAAE,MACf,CAAE,EAED,GACG,CAEV,CAEA,GAAM,CAAAC,WAAW,CAAG,CAClBC,MAAM,CAAER,aAAa,CAACS,IAAI,GAAK,MAAM,CAAGlB,WAAW,CAAGC,WAAW,CACjEkB,aAAa,CAAE,GAAG,CAClBC,WAAW,CAAE,KAAK,CAClBF,IAAI,CAAET,aAAa,CAACS,IAAI,GAAK,MAAM,CAAG,MAAM,CAAGlB,WACjD,CAAC,CAED,MACE,CAAA7C,MAAA,CAAAS,OAAA,CAAAgD,aAAA,aACEzD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,QAAKS,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,EACzBnE,MAAA,CAAAS,OAAA,CAAAgD,aAAA,MAAGW,SAAS,CAAC,gBAAgB,EAC3BpE,MAAA,CAAAS,OAAA,CAAAgD,aAAA,SAAMY,CAAC,CAAEf,aAAa,CAACgB,KAAM,CAACZ,KAAK,CAAEG,WAAY,CAAE,CAClD,CACA,CACD,CAEV,CAEAU,aAAaA,CAAA,CAAG,CACd,IAAAC,YAAA,CAAkD,IAAI,CAACpC,KAAK,CAArDS,WAAW,CAAA2B,YAAA,CAAX3B,WAAW,CAAEC,WAAW,CAAA0B,YAAA,CAAX1B,WAAW,CAAEO,aAAa,CAAAmB,YAAA,CAAbnB,aAAa,CAC9C,MAAO,CAAAA,aAAa,CAACoB,GAAG,CAAEC,MAAM,EAAK,CACnC,GAAO,CAAAX,IAAI,CAAkBW,MAAM,CAA5BX,IAAI,CAAEd,KAAK,CAAWyB,MAAM,CAAtBzB,KAAK,CAAEqB,KAAK,CAAII,MAAM,CAAfJ,KAAK,CAEzB,GAAM,CAAAT,WAAW,CAAG,CAClBC,MAAM,CAAEC,IAAI,GAAK,MAAM,CAAGlB,WAAW,CAAGC,WAAW,CACnDkB,aAAa,CAAE,GAAG,CAClBC,WAAW,CAAE,KAAK,CAClBF,IAAI,CAAEA,IAAI,GAAK,MAAM,CAAG,MAAM,CAAGlB,WACnC,CAAC,CACD,MACE,CAAA7C,MAAA,CAAAS,OAAA,CAAAgD,aAAA,QACEkB,SAAS,CAAC,uBAAuB,CACjCC,GAAG,CAAE3B,KAAM,CACX4B,OAAO,CAAEA,CAAA,GAAM,IAAI,CAACzC,KAAK,CAAC0C,QAAQ,CAAC7B,KAAK,CAAE,EAE1CjD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,QAAKS,KAAK,CAAC,IAAI,CAACC,MAAM,CAAC,IAAI,CAACQ,SAAS,CAAC,yBAAyB,CAAC,aAAY1B,KAAM,EAChFjD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,MAAGW,SAAS,CAAC,kBAAkB,EAC7BpE,MAAA,CAAAS,OAAA,CAAAgD,aAAA,SAAMY,CAAC,CAAEC,KAAM,CAACZ,KAAK,CAAEG,WAAY,CAAE,CACpC,CACA,CACF,CAET,CAAC,CACH,CAEAkB,MAAMA,CAAA,CAAG,CACP,GAAO,CAAAzC,MAAM,CAAI,IAAI,CAACD,KAAK,CAApBC,MAAM,CACb,GAAM,CAAA0C,WAAW,CAAG,GAAAC,mBAAU,EAAC,yBAAyB,CAAE,CACxD,+BAA+B,CAAE,IAAI,CAAC7C,KAAK,CAAC8C,cAC9C,CAAC,CAAC,CAEF,MACE,CAAAlF,MAAA,CAAAS,OAAA,CAAAgD,aAAA,YACEzD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,QAAKkB,SAAS,CAAEK,WAAY,CAACH,OAAO,CAAE,IAAI,CAACtC,WAAY,EACrDvC,MAAA,CAAAS,OAAA,CAAAgD,aAAA,SAAMkB,SAAS,CAAC,gCAAgC,EAAE,IAAI,CAACxB,kBAAkB,CAAC,CAAQ,CAAC,CACnFnD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,aACEzD,MAAA,CAAAS,OAAA,CAAAgD,aAAA,CAACnD,YAAA,CAAA6E,cAAc,EAACR,SAAS,CAAC,gCAAgC,CAAE,CACxD,CACH,CAAC,CACLrC,MAAM,EAAI,IAAI,CAACiC,aAAa,CAAC,CAC3B,CAET,CAACa,iCAAAR,GAAA,CAAAS,IAAA,OAAAT,GAAA,EAAAU,IAAA,CAAAD,IAAA,EACH,CAACE,OAAA,CAAA9E,OAAA,CAAAwB,cAAA,CAEDA,cAAc,CAACuD,SAAS,CAAG,CACzBN,cAAc,CAAEO,kBAAS,CAACC,IAAI,CAC9B7C,WAAW,CAAE4C,kBAAS,CAACE,MAAM,CAC7B7C,WAAW,CAAE2C,kBAAS,CAACE,MAAM,CAC7B1C,KAAK,CAAEwC,kBAAS,CAACE,MAAM,CACvBb,QAAQ,CAAEW,kBAAS,CAACG,IAAI,CACxBvC,aAAa,CAAEoC,kBAAS,CAACI,KAC3B,CAAC,CAAC,iBAAAC,cAAA,QAAAlE,oBAAA,eAAAA,oBAAA,CAAAnB,OAAA,CAAAoB,SAAA,KAAAiE,cAAA,SAAAA,cAAA,CAAAC,QAAA,CAjHmB9D,cAAc,yHAAA+D,WAAA,QAAApE,oBAAA,eAAAA,oBAAA,CAAAoE,WAAA,CAAAnE,SAAA,CAAAmE,WAAA,EAAAA,WAAA,CAAAlE,MAAA","ignoreList":[]}
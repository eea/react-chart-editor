{"version":3,"file":"RangeSelectorAccordion.js","names":["_PlotlyFold","_interopRequireDefault","require","_PlotlyPanel","_propTypes","_react","_interopRequireWildcard","_lib","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","RangeSelectorFold","connectRangeSelectorToAxis","PlotlyFold","RangeSelectorAccordion","Component","render","context","fullContainer","rangeselector","visible","_axisGroup","_this$context","_this$context$fullCon","buttons","_","localize","meta","layout","children","props","content","length","map","btn","createElement","key","rangeselectorIndex","name","getParsedTemplateString","label","canDelete","addAction","handler","updateContainer","Array","isArray","concat","__reactstandin__regenerateByEval","code","eval","contextTypes","PropTypes","object","func","propTypes","node","plotly_editor_traits","no_visibility_forcing","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/containers/RangeSelectorAccordion.js"],"sourcesContent":["import PlotlyFold from './PlotlyFold';\nimport PlotlyPanel from './PlotlyPanel';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectRangeSelectorToAxis, getParsedTemplateString} from 'lib';\n\nconst RangeSelectorFold = connectRangeSelectorToAxis(PlotlyFold);\n\nclass RangeSelectorAccordion extends Component {\n  render() {\n    if (\n      !this.context.fullContainer ||\n      !this.context.fullContainer.rangeselector ||\n      !this.context.fullContainer.rangeselector.visible ||\n      // next line checks for \"all\" case\n      this.context.fullContainer._axisGroup === 0\n    ) {\n      return null;\n    }\n\n    const {\n      fullContainer: {\n        rangeselector: {buttons = []},\n      },\n      localize: _,\n      layout: meta,\n    } = this.context;\n    const {children} = this.props;\n\n    const content =\n      buttons.length &&\n      buttons.map((btn, i) => (\n        <RangeSelectorFold\n          key={i}\n          rangeselectorIndex={i}\n          name={getParsedTemplateString(btn.label, {meta})}\n          canDelete={true}\n        >\n          {children}\n        </RangeSelectorFold>\n      ));\n\n    const addAction = {\n      label: _('Button'),\n      handler: (context) => {\n        const {fullContainer, updateContainer} = context;\n        if (updateContainer) {\n          const rangeselectorIndex = Array.isArray(fullContainer.rangeselector.buttons)\n            ? fullContainer.rangeselector.buttons.length\n            : 0;\n\n          updateContainer({\n            [`rangeselector.buttons[${rangeselectorIndex}]`]: {},\n          });\n        }\n      },\n    };\n\n    return <PlotlyPanel addAction={addAction}>{content ? content : null}</PlotlyPanel>;\n  }\n}\n\nRangeSelectorAccordion.contextTypes = {\n  fullContainer: PropTypes.object,\n  localize: PropTypes.func,\n  layout: PropTypes.object,\n};\n\nRangeSelectorAccordion.propTypes = {\n  children: PropTypes.node,\n};\n\nRangeSelectorAccordion.plotly_editor_traits = {\n  no_visibility_forcing: true,\n};\n\nexport default RangeSelectorAccordion;\n"],"mappings":"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","ignoreList":[]}
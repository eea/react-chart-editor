{"version":3,"file":"MapboxLayersAccordion.js","names":["_PlotlyFold","_interopRequireDefault","require","_PlotlyPanel","_propTypes","_react","_interopRequireWildcard","_lib","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","MapboxLayersFold","connectLayersToMapbox","PlotlyFold","MapboxLayersAccordion","Component","render","fullContainer","layers","localize","_","layout","meta","context","children","props","content","length","map","layer","createElement","key","mapboxLayerIndex","name","getParsedTemplateString","canDelete","addAction","label","handler","updateContainer","Array","isArray","concat","sourcetype","below","canReorder","__reactstandin__regenerateByEval","code","eval","contextTypes","PropTypes","object","func","propTypes","node","plotly_editor_traits","no_visibility_forcing","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/containers/MapboxLayersAccordion.js"],"sourcesContent":["import PlotlyFold from './PlotlyFold';\nimport PlotlyPanel from './PlotlyPanel';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectLayersToMapbox, getParsedTemplateString} from 'lib';\n\nconst MapboxLayersFold = connectLayersToMapbox(PlotlyFold);\n\nclass MapboxLayersAccordion extends Component {\n  render() {\n    const {\n      fullContainer: {layers = []},\n      localize: _,\n      layout: meta,\n    } = this.context;\n    const {children} = this.props;\n\n    const content =\n      layers.length &&\n      layers.map((layer, i) => (\n        <MapboxLayersFold\n          key={i}\n          mapboxLayerIndex={i}\n          name={getParsedTemplateString(layer.name, {meta})}\n          canDelete={true}\n        >\n          {children}\n        </MapboxLayersFold>\n      ));\n\n    const addAction = {\n      label: _('Layer'),\n      handler: (context) => {\n        const {fullContainer, updateContainer} = context;\n        if (updateContainer) {\n          const mapboxLayerIndex = Array.isArray(fullContainer.layers)\n            ? fullContainer.layers.length\n            : 0;\n\n          updateContainer({\n            [`layers[${mapboxLayerIndex}]`]: {\n              name: `Layer ${mapboxLayerIndex}`,\n              sourcetype: 'raster',\n              below: 'traces',\n            },\n          });\n        }\n      },\n    };\n\n    return (\n      <PlotlyPanel addAction={addAction} canReorder>\n        {content ? content : null}\n      </PlotlyPanel>\n    );\n  }\n}\n\nMapboxLayersAccordion.contextTypes = {\n  fullContainer: PropTypes.object,\n  localize: PropTypes.func,\n  layout: PropTypes.object,\n};\n\nMapboxLayersAccordion.propTypes = {\n  children: PropTypes.node,\n};\n\nMapboxLayersAccordion.plotly_editor_traits = {\n  no_visibility_forcing: true,\n};\n\nexport default MapboxLayersAccordion;\n"],"mappings":"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","ignoreList":[]}
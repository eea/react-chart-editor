{"version":3,"file":"PlotlySection.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_lib","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","Section","Component","constructor","sectionVisible","getChildContext","_this$props$resettabl","resettable","props","context","render","createElement","className","name","children","__reactstandin__regenerateByEval","key","code","eval","exports","plotly_editor_traits","no_visibility_forcing","propTypes","PropTypes","node","string","attr","bool","childContextTypes","PlotlySection","determineVisibility","UNSAFE_componentWillReceiveProps","nextProps","nextContext","isVisible","unpackPlotProps","isVisibleGivenCustomConfig","React","Children","forEach","child","plotProps","type","modifyPlotProps","displayName","container_section","contextTypes","containerConnectedContextTypes","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/containers/PlotlySection.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  containerConnectedContextTypes,\n  unpackPlotProps,\n  isVisibleGivenCustomConfig,\n} from '../../lib';\n\nexport class Section extends Component {\n  constructor() {\n    super();\n    this.sectionVisible = true;\n  }\n\n  getChildContext() {\n    return {\n      resettable: this.props.resettable ?? this.context.resettable,\n    };\n  }\n\n  render() {\n    if (!this.sectionVisible) {\n      return null;\n    }\n\n    return (\n      <div className=\"section\">\n        {this.props.name ? (\n          <div className=\"section__heading\">\n            <div className=\"section__heading__text\">{this.props.name}</div>\n          </div>\n        ) : null}\n        {this.props.children}\n      </div>\n    );\n  }\n}\n\nSection.plotly_editor_traits = {no_visibility_forcing: false};\nSection.propTypes = {\n  children: PropTypes.node,\n  name: PropTypes.string,\n  attr: PropTypes.string,\n  resettable: PropTypes.bool,\n};\nSection.childContextTypes = {\n  resettable: PropTypes.bool,\n};\n\nexport default class PlotlySection extends Section {\n  constructor(props, context) {\n    super(props, context);\n    this.determineVisibility(props, context);\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n    this.determineVisibility(nextProps, nextContext);\n  }\n\n  determineVisibility(nextProps, nextContext) {\n    const {isVisible} = unpackPlotProps(nextProps, nextContext);\n    this.sectionVisible = isVisibleGivenCustomConfig(isVisible, nextProps, nextContext);\n\n    React.Children.forEach(nextProps.children, (child) => {\n      if (!child || this.sectionVisible) {\n        return;\n      }\n\n      if (child.props.attr) {\n        const plotProps = unpackPlotProps(child.props, nextContext);\n        if (child.type.modifyPlotProps) {\n          child.type.modifyPlotProps(child.props, nextContext, plotProps);\n        }\n\n        this.sectionVisible = isVisibleGivenCustomConfig(\n          this.sectionVisible || plotProps.isVisible,\n          child.props,\n          nextContext,\n          child.type && child.type.displayName ? child.type.displayName : null\n        );\n        return;\n      }\n\n      if (!(child.type.plotly_editor_traits || {}).no_visibility_forcing) {\n        // non-attr components force visibility (unless they don't via traits)\n        this.sectionVisible = true;\n        return;\n      }\n    });\n  }\n}\n\nPlotlySection.plotly_editor_traits = {container_section: true, no_visibility_forcing: true};\nPlotlySection.contextTypes = containerConnectedContextTypes;\n"],"mappings":"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","ignoreList":[]}
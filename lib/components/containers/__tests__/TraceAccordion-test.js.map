{"version":3,"file":"TraceAccordion-test.js","names":["_react","_interopRequireDefault","require","_","_fields","_testUtils","e","__esModule","default","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","__signature__","reactHotLoaderGlobal","signature","a","describe","it","fixture","fixtures","scatter","data","name","folds","mount","createElement","TestEditor","onUpdate","jest","fn","LayoutPanel","TraceAccordion","TextEditor","attr","find","PlotlyFold","expect","at","prop","toBe","beforeAddTrace","editor","canAdd","simulate","toBeCalled","beforeDeleteTrace","update","mock","calls","traceIndexes"],"sources":["../../../../src/components/containers/__tests__/TraceAccordion-test.js"],"sourcesContent":["import React from 'react';\nimport {TraceAccordion, PlotlyFold, LayoutPanel} from '..';\nimport {TextEditor} from '../../fields';\nimport {TestEditor, fixtures, mount} from 'lib/test-utils';\n\ndescribe('<TraceAccordion>', () => {\n  it('generates trace PlotlyFolds with name == text', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n\n    const folds = mount(\n      <TestEditor {...{...fixture, onUpdate: jest.fn()}}>\n        <LayoutPanel>\n          <TraceAccordion>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    ).find(PlotlyFold);\n\n    expect(folds.at(0).prop('name')).toBe('hodor');\n  });\n\n  it('can add traces', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n    const beforeAddTrace = jest.fn();\n    const editor = mount(\n      <TestEditor {...{...fixture, beforeAddTrace}}>\n        <LayoutPanel>\n          <TraceAccordion canAdd>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    );\n\n    editor.find('button.js-add-button').simulate('click');\n\n    expect(beforeAddTrace).toBeCalled();\n  });\n\n  it('can delete traces', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n    const beforeDeleteTrace = jest.fn();\n    const editor = mount(\n      <TestEditor {...{...fixture, beforeDeleteTrace}}>\n        <LayoutPanel>\n          <TraceAccordion canAdd>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    );\n\n    editor.find('.js-fold__delete').at(0).simulate('click');\n\n    expect(beforeDeleteTrace).toBeCalled();\n    const update = beforeDeleteTrace.mock.calls[0][0];\n    expect(update.traceIndexes[0]).toBe(0);\n  });\n});\n"],"mappings":"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","ignoreList":[]}
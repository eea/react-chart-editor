{"version":3,"file":"Layout-test.js","names":["_fields","require","_","_NumericInput","_interopRequireDefault","_react","_testUtils","_lib","_enzyme","e","__esModule","default","enterModule","reactHotLoaderGlobal","undefined","module","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","ownKeys","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","__signature__","signature","a","Layouts","PlotlyPanel","PlotlyFold","PlotlySection","map","connectLayoutToPlot","Editor","props","createElement","TestEditor","onUpdate","jest","fn","Layout","describe","concat","displayName","it","wrapper","mount","fixtures","scatter","layout","height","Numeric","label","min","step","attr","find","NumericInput","expect","prop","toBe","beforeUpdateLayout","heightUpdate","payload","mock","calls","toEqual","update","reactHotLoader","register","leaveModule"],"sources":["../../../../src/components/containers/__tests__/Layout-test.js"],"sourcesContent":["import {Numeric} from '../../fields';\nimport {PlotlyFold, PlotlyPanel, PlotlySection} from '..';\nimport NumericInput from '../../widgets/NumericInput';\nimport React from 'react';\nimport {TestEditor, fixtures} from 'lib/test-utils';\nimport {connectLayoutToPlot} from 'lib';\nimport {mount} from 'enzyme';\n\nconst Layouts = [PlotlyPanel, PlotlyFold, PlotlySection].map(connectLayoutToPlot);\nconst Editor = (props) => <TestEditor {...{onUpdate: jest.fn(), ...props}} />;\n\nLayouts.forEach((Layout) => {\n  describe(`<${Layout.displayName}>`, () => {\n    it(`wraps container with fullValue pointing to gd._fullLayout`, () => {\n      const wrapper = mount(\n        <Editor {...fixtures.scatter({layout: {height: 100}})}>\n          <PlotlyPanel>\n            <Layout>\n              <Numeric label=\"Height\" min={100} step={10} attr=\"height\" />\n            </Layout>\n          </PlotlyPanel>\n        </Editor>\n      )\n        .find('[attr=\"height\"]')\n        .find(NumericInput);\n      expect(wrapper.prop('value')).toBe(100);\n    });\n\n    it(`sends updates to gd._layout`, () => {\n      const beforeUpdateLayout = jest.fn();\n      const wrapper = mount(\n        <Editor\n          beforeUpdateLayout={beforeUpdateLayout}\n          {...fixtures.scatter({layout: {height: 100}})}\n        >\n          <PlotlyPanel>\n            <Layout>\n              <Numeric label=\"Height\" min={100} step={10} attr=\"height\" />\n            </Layout>\n          </PlotlyPanel>\n        </Editor>\n      )\n        .find('[attr=\"height\"]')\n        .find(NumericInput);\n\n      const heightUpdate = 200;\n      wrapper.prop('onChange')(heightUpdate);\n      const payload = beforeUpdateLayout.mock.calls[0][0];\n      expect(payload).toEqual({update: {height: heightUpdate}});\n    });\n  });\n});\n"],"mappings":"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","ignoreList":[]}
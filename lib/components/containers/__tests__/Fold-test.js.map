{"version":3,"file":"Fold-test.js","names":["_fields","require","_","_react","_interopRequireDefault","_testUtils","_lib","e","__esModule","default","enterModule","reactHotLoaderGlobal","undefined","module","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","__signature__","signature","a","TraceFold","connectTraceToPlot","PlotlyFold","describe","it","withoutDelete","mount","createElement","TestEditor","fixtures","scatter","PlotlyPanel","Numeric","attr","find","expect","exists","toBe","withDelete","traceIndexes","canDelete","beforeDeleteTrace","jest","fn","simulate","payload","mock","calls","toEqual","axesToBeGarbageCollected","subplotToBeGarbageCollected","reactHotLoader","register","leaveModule"],"sources":["../../../../src/components/containers/__tests__/Fold-test.js"],"sourcesContent":["import {Numeric} from '../../fields';\nimport {PlotlyFold, PlotlyPanel} from '..';\nimport React from 'react';\nimport {TestEditor, fixtures, mount} from 'lib/test-utils';\nimport {connectTraceToPlot} from 'lib';\n\nconst TraceFold = connectTraceToPlot(PlotlyFold);\n\ndescribe('<PlotlyFold>', () => {\n  it('shows deleteContainer button when deleteContainer function present and canDelete is true', () => {\n    const withoutDelete = mount(\n      <TestEditor {...fixtures.scatter()}>\n        <PlotlyPanel>\n          <PlotlyFold>\n            <Numeric attr=\"opacity\" />\n          </PlotlyFold>\n        </PlotlyPanel>\n      </TestEditor>\n    ).find('.js-fold__delete');\n    expect(withoutDelete.exists()).toBe(false);\n\n    const withDelete = mount(\n      <TestEditor {...fixtures.scatter()}>\n        <PlotlyPanel>\n          <TraceFold traceIndexes={[0]} canDelete={true}>\n            <Numeric attr=\"opacity\" />\n          </TraceFold>\n        </PlotlyPanel>\n      </TestEditor>\n    ).find('.js-fold__delete');\n    expect(withDelete.exists()).toBe(true);\n  });\n\n  it('calls deleteContainer when function present and canDelete is true', () => {\n    const beforeDeleteTrace = jest.fn();\n    mount(\n      <TestEditor {...fixtures.scatter()} beforeDeleteTrace={beforeDeleteTrace}>\n        <PlotlyPanel>\n          <TraceFold traceIndexes={[0]} canDelete={true}>\n            <Numeric attr=\"opacity\" />\n          </TraceFold>\n        </PlotlyPanel>\n      </TestEditor>\n    )\n      .find('.js-fold__delete')\n      .simulate('click');\n\n    const payload = beforeDeleteTrace.mock.calls[0][0];\n    expect(payload).toEqual({\n      axesToBeGarbageCollected: [],\n      subplotToBeGarbageCollected: null,\n      traceIndexes: [0],\n    });\n  });\n});\n"],"mappings":"aAAA,IAAAA,OAAA,CAAAC,OAAA,iBACA,IAAAC,CAAA,CAAAD,OAAA,OACA,IAAAE,MAAA,CAAAC,sBAAA,CAAAH,OAAA,WACA,IAAAI,UAAA,CAAAJ,OAAA,4BACA,IAAAK,IAAA,CAAAL,OAAA,iBAAuC,SAAAG,uBAAAG,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,kBAAAG,WAAA,QAAAC,oBAAA,eAAAA,oBAAA,CAAAD,WAAA,CAAAE,SAAA,CAAAF,WAAA,EAAAA,WAAA,CAAAG,MAAA,eAAAC,SAAA,SAAAA,QAAA,CAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAC,IAAA,YAAAC,CAAA,UAAAX,CAAA,GAAAA,CAAA,CAAAY,SAAA,CAAAC,MAAA,CAAAb,CAAA,QAAAc,CAAA,CAAAF,SAAA,CAAAZ,CAAA,UAAAe,CAAA,IAAAD,CAAA,MAAAE,cAAA,CAAAC,IAAA,CAAAH,CAAA,CAAAC,CAAA,IAAAJ,CAAA,CAAAI,CAAA,EAAAD,CAAA,CAAAC,CAAA,UAAAJ,CAAA,EAAAJ,QAAA,CAAAW,KAAA,MAAAN,SAAA,MAAAO,aAAA,QAAAf,oBAAA,eAAAA,oBAAA,CAAAF,OAAA,CAAAkB,SAAA,UAAAC,CAAA,SAAAA,CAAA,EAEvC,KAAM,CAAAC,SAAS,CAAG,GAAAC,uBAAkB,EAACC,YAAU,CAAC,CAEhDC,QAAQ,CAAC,cAAc,CAAE,IAAM,CAC7BC,EAAE,CAAC,0FAA0F,CAAE,IAAM,CACnG,KAAM,CAAAC,aAAa,CAAG,GAAAC,gBAAK,EACzBhC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAC/B,UAAA,CAAAgC,UAAU,CAAKC,mBAAQ,CAACC,OAAO,CAAC,CAAC,CAChCpC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAClC,CAAA,CAAAsC,WAAW,MACVrC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAClC,CAAA,CAAA6B,UAAU,MACT5B,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAACpC,OAAA,CAAAyC,OAAO,EAACC,IAAI,CAAC,SAAS,CAAE,CACf,CACD,CACH,CACd,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC,CAC1BC,MAAM,CAACV,aAAa,CAACW,MAAM,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,KAAK,CAAC,CAE1C,KAAM,CAAAC,UAAU,CAAG,GAAAZ,gBAAK,EACtBhC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAC/B,UAAA,CAAAgC,UAAU,CAAKC,mBAAQ,CAACC,OAAO,CAAC,CAAC,CAChCpC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAClC,CAAA,CAAAsC,WAAW,MACVrC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAACP,SAAS,EAACmB,YAAY,CAAE,CAAC,CAAC,CAAE,CAACC,SAAS,CAAE,IAAK,EAC5C9C,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAACpC,OAAA,CAAAyC,OAAO,EAACC,IAAI,CAAC,SAAS,CAAE,CAChB,CACA,CACH,CACd,CAAC,CAACC,IAAI,CAAC,kBAAkB,CAAC,CAC1BC,MAAM,CAACG,UAAU,CAACF,MAAM,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,IAAI,CACvC,CAAC,CAAC,CAEFb,EAAE,CAAC,mEAAmE,CAAE,IAAM,CAC5E,KAAM,CAAAiB,iBAAiB,CAAGC,IAAI,CAACC,EAAE,CAAC,CAAC,CACnC,GAAAjB,gBAAK,EACHhC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAC/B,UAAA,CAAAgC,UAAU,CAAAvB,QAAA,IAAKwB,mBAAQ,CAACC,OAAO,CAAC,CAAC,EAAEW,iBAAiB,CAAEA,iBAAkB,GACvE/C,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAAClC,CAAA,CAAAsC,WAAW,MACVrC,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAACP,SAAS,EAACmB,YAAY,CAAE,CAAC,CAAC,CAAE,CAACC,SAAS,CAAE,IAAK,EAC5C9C,MAAA,CAAAM,OAAA,CAAA2B,aAAA,CAACpC,OAAA,CAAAyC,OAAO,EAACC,IAAI,CAAC,SAAS,CAAE,CAChB,CACA,CACH,CACd,CAAC,CACEC,IAAI,CAAC,kBAAkB,CAAC,CACxBU,QAAQ,CAAC,OAAO,CAAC,CAEpB,KAAM,CAAAC,OAAO,CAAGJ,iBAAiB,CAACK,IAAI,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAClDZ,MAAM,CAACU,OAAO,CAAC,CAACG,OAAO,CAAC,CACtBC,wBAAwB,CAAE,EAAE,CAC5BC,2BAA2B,CAAE,IAAI,CACjCX,YAAY,CAAE,CAAC,CAAC,CAClB,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CAAC,iBAAAY,cAAA,QAAAjD,oBAAA,eAAAA,oBAAA,CAAAF,OAAA,CAAAG,SAAA,KAAAgD,cAAA,SAAAA,cAAA,CAAAC,QAAA,CAhDGhC,SAAS,4HAAAiC,WAAA,QAAAnD,oBAAA,eAAAA,oBAAA,CAAAmD,WAAA,CAAAlD,SAAA,CAAAkD,WAAA,EAAAA,WAAA,CAAAjD,MAAA","ignoreList":[]}
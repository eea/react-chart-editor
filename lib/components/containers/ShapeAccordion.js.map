{"version":3,"file":"ShapeAccordion.js","names":["_PlotlyFold","_interopRequireDefault","require","_derived","_propTypes","_react","_interopRequireWildcard","_lib","_constants","_PanelEmpty","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","default","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","ShapeFold","connectShapeToLayout","PlotlyFold","ShapeAccordion","Component","render","_this$context","context","_this$context$layout$","layout","shapes","_","localize","_this$props","props","canAdd","children","canReorder","content","length","map","shp","createElement","key","shapeIndex","name","concat","canDelete","addAction","label","handler","_ref","updateContainer","Array","isArray","value","line","color","COLORS","charcoal","fillcolor","middleGray","opacity","LayoutPanel","PanelMessage","heading","__reactstandin__regenerateByEval","code","eval","contextTypes","PropTypes","object","func","propTypes","node","bool","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/containers/ShapeAccordion.js"],"sourcesContent":["import PlotlyFold from './PlotlyFold';\nimport {LayoutPanel} from './derived';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectShapeToLayout} from 'lib';\nimport {COLORS} from 'lib/constants';\nimport {PanelMessage} from './PanelEmpty';\n\nconst ShapeFold = connectShapeToLayout(PlotlyFold);\n\nclass ShapeAccordion extends Component {\n  render() {\n    const {\n      layout: {shapes = []},\n      localize: _,\n    } = this.context;\n    const {canAdd, children, canReorder} = this.props;\n\n    const content =\n      shapes.length &&\n      shapes.map((shp, i) => (\n        <ShapeFold key={i} shapeIndex={i} name={`${_('Shape')} ${i + 1}`} canDelete={canAdd}>\n          {children}\n        </ShapeFold>\n      ));\n\n    const addAction = {\n      label: _('Shape'),\n      handler: ({layout, updateContainer}) => {\n        let shapeIndex;\n        if (Array.isArray(layout.shapes)) {\n          shapeIndex = layout.shapes.length;\n        } else {\n          shapeIndex = 0;\n        }\n\n        const key = `shapes[${shapeIndex}]`;\n        const value = {\n          line: {color: COLORS.charcoal},\n          fillcolor: COLORS.middleGray,\n          opacity: 0.3,\n        };\n\n        if (updateContainer) {\n          updateContainer({[key]: value});\n        }\n      },\n    };\n\n    return (\n      <LayoutPanel addAction={canAdd ? addAction : null} canReorder={canReorder}>\n        {content ? (\n          content\n        ) : (\n          <PanelMessage heading={_('Lines, Rectangles and Ellipses.')}>\n            <p>\n              {_(\n                'Add shapes to a figure to highlight points or periods in time, thresholds, or areas of interest.'\n              )}\n            </p>\n            <p>{_('Click on the + button above to add a shape.')}</p>\n          </PanelMessage>\n        )}\n      </LayoutPanel>\n    );\n  }\n}\n\nShapeAccordion.contextTypes = {\n  layout: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nShapeAccordion.propTypes = {\n  children: PropTypes.node,\n  canAdd: PropTypes.bool,\n  canReorder: PropTypes.bool,\n};\n\nexport default ShapeAccordion;\n"],"mappings":"6FAAA,IAAAA,WAAA,CAAAC,sBAAA,CAAAC,OAAA,kBACA,IAAAC,QAAA,CAAAD,OAAA,cACA,IAAAE,UAAA,CAAAH,sBAAA,CAAAC,OAAA,gBACA,IAAAG,MAAA,CAAAC,uBAAA,CAAAJ,OAAA,WACA,IAAAK,IAAA,CAAAL,OAAA,cACA,IAAAM,UAAA,CAAAN,OAAA,wBACA,IAAAO,WAAA,CAAAP,OAAA,iBAA0C,SAAAQ,yBAAAC,CAAA,wBAAAC,OAAA,iBAAAC,CAAA,KAAAD,OAAA,CAAAE,CAAA,KAAAF,OAAA,QAAAF,wBAAA,UAAAA,yBAAAC,CAAA,SAAAA,CAAA,CAAAG,CAAA,CAAAD,CAAA,GAAAF,CAAA,WAAAL,wBAAAK,CAAA,CAAAE,CAAA,MAAAA,CAAA,EAAAF,CAAA,EAAAA,CAAA,CAAAI,UAAA,QAAAJ,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAK,OAAA,CAAAL,CAAA,MAAAG,CAAA,CAAAJ,wBAAA,CAAAG,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAG,GAAA,CAAAN,CAAA,SAAAG,CAAA,CAAAI,GAAA,CAAAP,CAAA,MAAAQ,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAd,CAAA,gBAAAc,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAhB,CAAA,CAAAc,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAb,CAAA,CAAAc,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAd,CAAA,CAAAc,CAAA,SAAAN,CAAA,CAAAH,OAAA,CAAAL,CAAA,CAAAG,CAAA,EAAAA,CAAA,CAAAe,GAAA,CAAAlB,CAAA,CAAAQ,CAAA,EAAAA,CAAA,UAAAlB,uBAAAU,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAI,UAAA,CAAAJ,CAAA,EAAAK,OAAA,CAAAL,CAAA,kBAAAmB,WAAA,QAAAC,oBAAA,eAAAA,oBAAA,CAAAD,WAAA,CAAAE,SAAA,CAAAF,WAAA,EAAAA,WAAA,CAAAG,MAAA,UAAAC,aAAA,QAAAH,oBAAA,eAAAA,oBAAA,CAAAf,OAAA,CAAAmB,SAAA,UAAAd,CAAA,SAAAA,CAAA,EAE1C,GAAM,CAAAe,SAAS,CAAG,GAAAC,yBAAoB,EAACC,mBAAU,CAAC,CAElD,KAAM,CAAAC,cAAc,QAAS,CAAAC,gBAAU,CACrCC,MAAMA,CAAA,CAAG,CACP,IAAAC,aAAA,CAGI,IAAI,CAACC,OAAO,CAAAC,qBAAA,CAAAF,aAAA,CAFdG,MAAM,CAAGC,MAAM,CAANA,MAAM,CAAAF,qBAAA,UAAG,EAAE,CAAAA,qBAAA,CACVG,CAAC,CAAAL,aAAA,CAAXM,QAAQ,CAEV,IAAAC,WAAA,CAAuC,IAAI,CAACC,KAAK,CAA1CC,MAAM,CAAAF,WAAA,CAANE,MAAM,CAAEC,QAAQ,CAAAH,WAAA,CAARG,QAAQ,CAAEC,UAAU,CAAAJ,WAAA,CAAVI,UAAU,CAEnC,GAAM,CAAAC,OAAO,CACXR,MAAM,CAACS,MAAM,EACbT,MAAM,CAACU,GAAG,CAAC,CAACC,GAAG,CAAE7B,CAAC,GAChBvB,MAAA,CAAAW,OAAA,CAAA0C,aAAA,CAACtB,SAAS,EAACuB,GAAG,CAAE/B,CAAE,CAACgC,UAAU,CAAEhC,CAAE,CAACiC,IAAI,IAAAC,MAAA,CAAKf,CAAC,CAAC,OAAO,CAAC,MAAAe,MAAA,CAAIlC,CAAC,CAAG,CAAC,CAAG,CAACmC,SAAS,CAAEZ,MAAO,EACjFC,QACQ,CACZ,CAAC,CAEJ,GAAM,CAAAY,SAAS,CAAG,CAChBC,KAAK,CAAElB,CAAC,CAAC,OAAO,CAAC,CACjBmB,OAAO,CAAEC,IAAA,EAA+B,IAA7B,CAAAtB,MAAM,CAAAsB,IAAA,CAANtB,MAAM,CAAEuB,eAAe,CAAAD,IAAA,CAAfC,eAAe,CAChC,GAAI,CAAAR,UAAU,CACd,GAAIS,KAAK,CAACC,OAAO,CAACzB,MAAM,CAACC,MAAM,CAAC,CAAE,CAChCc,UAAU,CAAGf,MAAM,CAACC,MAAM,CAACS,MAC7B,CAAC,IAAM,CACLK,UAAU,CAAG,CACf,CAEA,GAAM,CAAAD,GAAG,WAAAG,MAAA,CAAaF,UAAU,KAAG,CACnC,GAAM,CAAAW,KAAK,CAAG,CACZC,IAAI,CAAE,CAACC,KAAK,CAAEC,iBAAM,CAACC,QAAQ,CAAC,CAC9BC,SAAS,CAAEF,iBAAM,CAACG,UAAU,CAC5BC,OAAO,CAAE,GACX,CAAC,CAED,GAAIV,eAAe,CAAE,CACnBA,eAAe,CAAC,CAAC,CAACT,GAAG,EAAGY,KAAK,CAAC,CAChC,CACF,CACF,CAAC,CAED,MACE,CAAAlE,MAAA,CAAAW,OAAA,CAAA0C,aAAA,CAACvD,QAAA,CAAA4E,WAAW,EAACf,SAAS,CAAEb,MAAM,CAAGa,SAAS,CAAG,IAAK,CAACX,UAAU,CAAEA,UAAW,EACvEC,OAAO,CACNA,OAAO,CAEPjD,MAAA,CAAAW,OAAA,CAAA0C,aAAA,CAACjD,WAAA,CAAAuE,YAAY,EAACC,OAAO,CAAElC,CAAC,CAAC,iCAAiC,CAAE,EAC1D1C,MAAA,CAAAW,OAAA,CAAA0C,aAAA,UACGX,CAAC,CACA,kGACF,CACC,CAAC,CACJ1C,MAAA,CAAAW,OAAA,CAAA0C,aAAA,UAAIX,CAAC,CAAC,6CAA6C,CAAK,CAC5C,CAEL,CAEjB,CAACmC,iCAAAvB,GAAA,CAAAwB,IAAA,OAAAxB,GAAA,EAAAyB,IAAA,CAAAD,IAAA,EACH,CAEA5C,cAAc,CAAC8C,YAAY,CAAG,CAC5BxC,MAAM,CAAEyC,kBAAS,CAACC,MAAM,CACxBvC,QAAQ,CAAEsC,kBAAS,CAACE,IACtB,CAAC,CAEDjD,cAAc,CAACkD,SAAS,CAAG,CACzBrC,QAAQ,CAAEkC,kBAAS,CAACI,IAAI,CACxBvC,MAAM,CAAEmC,kBAAS,CAACK,IAAI,CACtBtC,UAAU,CAAEiC,kBAAS,CAACK,IACxB,CAAC,CAAC,IAAAC,QAAA,CAEarD,cAAc,KAAAsD,SAAA,CAAAC,OAAA,CAAA9E,OAAA,CAAA4E,QAAA,kBAAAG,cAAA,QAAAhE,oBAAA,eAAAA,oBAAA,CAAAf,OAAA,CAAAgB,SAAA,KAAA+D,cAAA,SAAAA,cAAA,CAAAC,QAAA,CAvEvB5D,SAAS,kGAAA2D,cAAA,CAAAC,QAAA,CAETzD,cAAc,uGAAAwD,cAAA,CAAAC,QAAA,CAAAJ,QAAA,qHAAAK,WAAA,QAAAlE,oBAAA,eAAAA,oBAAA,CAAAkE,WAAA,CAAAjE,SAAA,CAAAiE,WAAA,EAAAA,WAAA,CAAAhE,MAAA","ignoreList":[]}
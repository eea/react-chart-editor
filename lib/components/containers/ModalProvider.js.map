{"version":3,"file":"ModalProvider.js","names":["_react","_interopRequireDefault","require","_propTypes","e","__esModule","default","enterModule","reactHotLoaderGlobal","undefined","module","_extends","Object","assign","bind","n","arguments","length","t","r","hasOwnProperty","call","apply","__signature__","signature","a","ModalProvider","React","Component","constructor","props","state","component","componentProps","open","isAnimatingOut","componentDidUpdate","body","document","hasClass","classList","contains","add","remove","openModal","_","context","localize","Error","setState","closeModal","handleClose","animationDuration","setTimeout","getChildContext","c","p","render","_this$state","createElement","Fragment","children","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","node","contextTypes","func","childContextTypes","bool","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../../../src/components/containers/ModalProvider.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass ModalProvider extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      component: null,\n      componentProps: {},\n      open: false,\n      isAnimatingOut: false,\n    };\n  }\n\n  componentDidUpdate() {\n    const body = document.body;\n    const {open} = this.state;\n\n    // Toggle scroll on document body if modal is open\n    const hasClass = body.classList.contains('no-scroll');\n\n    if (open && !hasClass) {\n      body.classList.add('no-scroll');\n    }\n    if (!open && hasClass) {\n      body.classList.remove('no-scroll');\n    }\n  }\n\n  openModal(component, componentProps) {\n    const {localize: _} = this.context;\n    if (!component) {\n      throw Error(_('You need to provide a component for the modal to open!'));\n    }\n    const {open} = this.state;\n\n    if (!open) {\n      this.setState({\n        component: component,\n        componentProps: componentProps,\n        open: true,\n      });\n    }\n  }\n\n  closeModal() {\n    const {open} = this.state;\n    if (open) {\n      this.setState({\n        open: false,\n        component: null,\n      });\n    }\n  }\n  handleClose() {\n    this.setState({isAnimatingOut: true});\n    const animationDuration = 600;\n    setTimeout(() => {\n      this.setState({isAnimatingOut: false});\n      this.closeModal();\n    }, animationDuration);\n  }\n\n  getChildContext() {\n    return {\n      openModal: (c, p) => this.openModal(c, p),\n      closeModal: () => this.closeModal(),\n      handleClose: () => this.handleClose(),\n      isAnimatingOut: this.state.isAnimatingOut,\n    };\n  }\n\n  render() {\n    const {component: Component, componentProps, isAnimatingOut} = this.state;\n    return (\n      <>\n        {this.props.children}\n        {this.state.open ? <Component isAnimatingOut={isAnimatingOut} {...componentProps} /> : null}\n      </>\n    );\n  }\n}\n\nModalProvider.propTypes = {\n  children: PropTypes.node,\n};\nModalProvider.contextTypes = {\n  localize: PropTypes.func,\n};\nModalProvider.childContextTypes = {\n  openModal: PropTypes.func,\n  closeModal: PropTypes.func,\n  handleClose: PropTypes.func,\n  isAnimatingOut: PropTypes.bool,\n};\n\nexport default ModalProvider;\n"],"mappings":"6FAAA,IAAAA,MAAA,CAAAC,sBAAA,CAAAC,OAAA,WACA,IAAAC,UAAA,CAAAF,sBAAA,CAAAC,OAAA,gBAAmC,SAAAD,uBAAAG,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,kBAAAG,WAAA,QAAAC,oBAAA,eAAAA,oBAAA,CAAAD,WAAA,CAAAE,SAAA,CAAAF,WAAA,EAAAA,WAAA,CAAAG,MAAA,eAAAC,SAAA,SAAAA,QAAA,CAAAC,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,CAAAC,IAAA,YAAAC,CAAA,UAAAX,CAAA,GAAAA,CAAA,CAAAY,SAAA,CAAAC,MAAA,CAAAb,CAAA,QAAAc,CAAA,CAAAF,SAAA,CAAAZ,CAAA,UAAAe,CAAA,IAAAD,CAAA,MAAAE,cAAA,CAAAC,IAAA,CAAAH,CAAA,CAAAC,CAAA,IAAAJ,CAAA,CAAAI,CAAA,EAAAD,CAAA,CAAAC,CAAA,UAAAJ,CAAA,EAAAJ,QAAA,CAAAW,KAAA,MAAAN,SAAA,MAAAO,aAAA,QAAAf,oBAAA,eAAAA,oBAAA,CAAAF,OAAA,CAAAkB,SAAA,UAAAC,CAAA,SAAAA,CAAA,EAEnC,KAAM,CAAAC,aAAa,QAAS,CAAAC,cAAK,CAACC,SAAU,CAC1CC,WAAWA,CAACC,KAAK,CAAE,CACjB,KAAK,CAACA,KAAK,CAAC,CACZ,IAAI,CAACC,KAAK,CAAG,CACXC,SAAS,CAAE,IAAI,CACfC,cAAc,CAAE,CAAC,CAAC,CAClBC,IAAI,CAAE,KAAK,CACXC,cAAc,CAAE,KAClB,CACF,CAEAC,kBAAkBA,CAAA,CAAG,CACnB,GAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACD,IAAI,CAC1B,GAAO,CAAAH,IAAI,CAAI,IAAI,CAACH,KAAK,CAAlBG,IAAI,CAGX,GAAM,CAAAK,QAAQ,CAAGF,IAAI,CAACG,SAAS,CAACC,QAAQ,CAAC,WAAW,CAAC,CAErD,GAAIP,IAAI,EAAI,CAACK,QAAQ,CAAE,CACrBF,IAAI,CAACG,SAAS,CAACE,GAAG,CAAC,WAAW,CAChC,CACA,GAAI,CAACR,IAAI,EAAIK,QAAQ,CAAE,CACrBF,IAAI,CAACG,SAAS,CAACG,MAAM,CAAC,WAAW,CACnC,CACF,CAEAC,SAASA,CAACZ,SAAS,CAAEC,cAAc,CAAE,CACnC,GAAiB,CAAAY,CAAC,CAAI,IAAI,CAACC,OAAO,CAA3BC,QAAQ,CACf,GAAI,CAACf,SAAS,CAAE,CACd,KAAM,CAAAgB,KAAK,CAACH,CAAC,CAAC,wDAAwD,CAAC,CACzE,CACA,GAAO,CAAAX,IAAI,CAAI,IAAI,CAACH,KAAK,CAAlBG,IAAI,CAEX,GAAI,CAACA,IAAI,CAAE,CACT,IAAI,CAACe,QAAQ,CAAC,CACZjB,SAAS,CAAEA,SAAS,CACpBC,cAAc,CAAEA,cAAc,CAC9BC,IAAI,CAAE,IACR,CAAC,CACH,CACF,CAEAgB,UAAUA,CAAA,CAAG,CACX,GAAO,CAAAhB,IAAI,CAAI,IAAI,CAACH,KAAK,CAAlBG,IAAI,CACX,GAAIA,IAAI,CAAE,CACR,IAAI,CAACe,QAAQ,CAAC,CACZf,IAAI,CAAE,KAAK,CACXF,SAAS,CAAE,IACb,CAAC,CACH,CACF,CACAmB,WAAWA,CAAA,CAAG,CACZ,IAAI,CAACF,QAAQ,CAAC,CAACd,cAAc,CAAE,IAAI,CAAC,CAAC,CACrC,GAAM,CAAAiB,iBAAiB,CAAG,GAAG,CAC7BC,UAAU,CAAC,IAAM,CACf,IAAI,CAACJ,QAAQ,CAAC,CAACd,cAAc,CAAE,KAAK,CAAC,CAAC,CACtC,IAAI,CAACe,UAAU,CAAC,CAClB,CAAC,CAAEE,iBAAiB,CACtB,CAEAE,eAAeA,CAAA,CAAG,CAChB,MAAO,CACLV,SAAS,CAAEA,CAACW,CAAC,CAAEC,CAAC,GAAK,IAAI,CAACZ,SAAS,CAACW,CAAC,CAAEC,CAAC,CAAC,CACzCN,UAAU,CAAEA,CAAA,GAAM,IAAI,CAACA,UAAU,CAAC,CAAC,CACnCC,WAAW,CAAEA,CAAA,GAAM,IAAI,CAACA,WAAW,CAAC,CAAC,CACrChB,cAAc,CAAE,IAAI,CAACJ,KAAK,CAACI,cAC7B,CACF,CAEAsB,MAAMA,CAAA,CAAG,CACP,IAAAC,WAAA,CAA+D,IAAI,CAAC3B,KAAK,CAAvDH,SAAS,CAAA8B,WAAA,CAApB1B,SAAS,CAAaC,cAAc,CAAAyB,WAAA,CAAdzB,cAAc,CAAEE,cAAc,CAAAuB,WAAA,CAAdvB,cAAc,CAC3D,MACE,CAAAnC,MAAA,CAAAM,OAAA,CAAAqD,aAAA,CAAA3D,MAAA,CAAAM,OAAA,CAAAsD,QAAA,MACG,IAAI,CAAC9B,KAAK,CAAC+B,QAAQ,CACnB,IAAI,CAAC9B,KAAK,CAACG,IAAI,CAAGlC,MAAA,CAAAM,OAAA,CAAAqD,aAAA,CAAC/B,SAAS,CAAAjB,QAAA,EAACwB,cAAc,CAAEA,cAAe,EAAKF,cAAc,CAAG,CAAC,CAAG,IACvF,CAEN,CAAC6B,iCAAAC,GAAA,CAAAC,IAAA,OAAAD,GAAA,EAAAE,IAAA,CAAAD,IAAA,EACH,CAEAtC,aAAa,CAACwC,SAAS,CAAG,CACxBL,QAAQ,CAAEM,kBAAS,CAACC,IACtB,CAAC,CACD1C,aAAa,CAAC2C,YAAY,CAAG,CAC3BtB,QAAQ,CAAEoB,kBAAS,CAACG,IACtB,CAAC,CACD5C,aAAa,CAAC6C,iBAAiB,CAAG,CAChC3B,SAAS,CAAEuB,kBAAS,CAACG,IAAI,CACzBpB,UAAU,CAAEiB,kBAAS,CAACG,IAAI,CAC1BnB,WAAW,CAAEgB,kBAAS,CAACG,IAAI,CAC3BnC,cAAc,CAAEgC,kBAAS,CAACK,IAC5B,CAAC,CAAC,IAAAC,QAAA,CAEa/C,aAAa,KAAAgD,SAAA,CAAAC,OAAA,CAAArE,OAAA,CAAAmE,QAAA,kBAAAG,cAAA,QAAApE,oBAAA,eAAAA,oBAAA,CAAAF,OAAA,CAAAG,SAAA,KAAAmE,cAAA,SAAAA,cAAA,CAAAC,QAAA,CA7FtBnD,aAAa,qGAAAkD,cAAA,CAAAC,QAAA,CAAAJ,QAAA,oHAAAK,WAAA,QAAAtE,oBAAA,eAAAA,oBAAA,CAAAsE,WAAA,CAAArE,SAAA,CAAAqE,WAAA,EAAAA,WAAA,CAAApE,MAAA","ignoreList":[]}
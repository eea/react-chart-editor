{"version":3,"file":"DataSourcesEditor.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_isNil","_isEqual","_hyperformula","_base","_lib","_plugins","_constants","_dereference","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","_arrayLikeToArray","toString","slice","constructor","name","Array","from","test","length","l","Symbol","iterator","f","o","next","done","push","value","return","isArray","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","apply","_objectSpread","arguments","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","toPrimitive","String","Number","__signature__","signature","registerPlugin","AutoColumnSize","Autofill","BindRowsWithHeaders","CopyPaste","ContextMenu","DragToScroll","DropdownMenu","Formulas","ManualColumnResize","UndoRedo","MIN_ROWS","MIN_COLS","getContextMenuItemTrigger","hot","trigger","_hot$getPlugin$itemsF","getPlugin","itemsFactory","predefinedItems","bind","DataSourcesEditor","Component","colHeaders","tableEl","React","createRef","previewEl","deserialize","serialize","onUpdate","isSingleColumnSelected","renameColumn","componentDidMount","props","dataSources","self","data","contextMenu","items","row_above","hidden","callback","rows","prompt","latestSelection","getSelectedRangeLast","getTopRightCorner","alter","row","row_below","getBottomRightCorner","col_left","cols","getTopLeftCorner","alterAction","isRtl","col","col_right","sp1","rename_col","disabled","getSelectedLast","remove_row","remove_col","clear_column","sp2","undo","redo","Handsontable","current","width","height","rowHeaders","minRows","minCols","Math","max","autoWrapRow","autoWrapCol","autoColumnSize","useHeaders","fillHandle","licenseKey","bindRowsWithHeaders","copyPaste","manualColumnMove","manualColumnResize","formulas","engine","HyperFormula","afterChange","changes","source","includes","editedColumns","map","change","afterUpdateSettings","settings","colHeadersChanged","isEqual","renamedColumns","reduce","acc","header","index","removedColumns","afterCreateCol","amount","createdColumns","_","afterCreateRow","createdRows","afterRemoveCol","columns","afterRemoveRow","afterOnCellMouseDown","coords","_e$target","isButton","target","nodeName","detail","setTimeout","init","window","dispatchEvent","Event","componentWillUnmount","_this$hot","destroy","componentDidUpdate","updateSettings","updateData","entries","_ref","_ref2","getData","getColHeader","emptyRange","colData","j","isNil","emptyRows","requestAnimationFrame","update","layout","traces","prevColHeaders","dataSourceOptions","label","_changes$editedColumn","_changes$renamedColum","_changes$removedColum","attrs","trace","getAttrsPath","TRACE_SRC_ATTRIBUTES","_ref3","_ref4","attr","LAYOUT_SRC_ATTRIBUTES","_ref5","_ref6","_ref7","updateAttr","container","srcAttr","getSrcAttr","srcConverters","inSrcAttr","colIndex","oldCol","newCol","key","concat","getColumnNames","type","EDITOR_ACTIONS","UPDATE_TRACES","payload","traceIndexes","UPDATE_LAYOUT","UPDATE_DATA_SOURCES","ranges","getSelectedRange","start","Infinity","end","cellRange","to","newColHeader","render","createElement","Fragment","className","ref","onMouseDown","preventDefault","startY","clientY","startHeight","getSettings","handleMouseMove","deltaY","style","top","MIN_GRID_HEIGHT","handleMouseUp","document","removeEventListener","onPlotResize","addEventListener","__reactstandin__regenerateByEval","code","eval","propTypes","PropTypes","array","object","shape","toSrc","func","isRequired","fromSrc","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../src/DataSourcesEditor.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport isNil from 'lodash/isNil';\nimport isEqual from 'lodash/isEqual';\nimport {HyperFormula} from 'hyperformula';\nimport Handsontable from 'handsontable/base';\nimport {getAttrsPath, getData, getSrcAttr, inSrcAttr} from 'lib';\nimport {\n  registerPlugin,\n  AutoColumnSize,\n  Autofill,\n  BindRowsWithHeaders,\n  CopyPaste,\n  ContextMenu,\n  DragToScroll,\n  DropdownMenu,\n  Formulas,\n  ManualColumnResize,\n  UndoRedo,\n} from 'handsontable/plugins';\nimport {\n  EDITOR_ACTIONS,\n  TRACE_SRC_ATTRIBUTES,\n  LAYOUT_SRC_ATTRIBUTES,\n  MIN_GRID_HEIGHT,\n} from './lib/constants';\nimport {getColumnNames} from 'lib/dereference';\n\n// Register plugins\nregisterPlugin(AutoColumnSize);\nregisterPlugin(Autofill);\nregisterPlugin(BindRowsWithHeaders);\nregisterPlugin(CopyPaste);\nregisterPlugin(ContextMenu);\nregisterPlugin(DragToScroll);\nregisterPlugin(DropdownMenu);\nregisterPlugin(Formulas);\nregisterPlugin(ManualColumnResize);\nregisterPlugin(UndoRedo);\n\nconst MIN_ROWS = 20;\nconst MIN_COLS = 26;\n\nfunction getContextMenuItemTrigger(hot, name, trigger) {\n  return hot.getPlugin('ContextMenu').itemsFactory.predefinedItems[name]?.[trigger]?.bind(hot);\n}\n\nclass DataSourcesEditor extends Component {\n  constructor() {\n    super();\n    this.hot = null;\n    this.colHeaders = null;\n    this.tableEl = React.createRef();\n    this.previewEl = React.createRef();\n    this.deserialize = this.deserialize.bind(this);\n    this.serialize = this.serialize.bind(this);\n    this.onUpdate = this.onUpdate.bind(this);\n    this.isSingleColumnSelected = this.isSingleColumnSelected.bind(this);\n    this.renameColumn = this.renameColumn.bind(this);\n  }\n\n  componentDidMount() {\n    this.colHeaders = Object.keys(this.props.dataSources || {});\n    const self = this;\n    const data = this.deserialize();\n\n    const contextMenu = {\n      items: {\n        row_above: {\n          name: 'Insert row(s) above',\n          hidden() {\n            return getContextMenuItemTrigger(this, 'row_above', 'disabled')();\n          },\n          callback() {\n            const rows = Number(prompt('Enter number of rows:', 1)) || 1;\n            const latestSelection = this.getSelectedRangeLast().getTopRightCorner();\n            this.alter('insert_row_above', latestSelection.row, rows, 'ContextMenu.rowAbove');\n          },\n        },\n        row_below: {\n          name: 'Insert row(s) below',\n          hidden() {\n            return getContextMenuItemTrigger(this, 'row_below', 'disabled')();\n          },\n          callback() {\n            const rows = Number(prompt('Enter number of rows:', 1)) || 1;\n            const latestSelection = this.getSelectedRangeLast().getBottomRightCorner();\n            this.alter('insert_row_below', latestSelection.row, rows, 'ContextMenu.rowBelow');\n          },\n        },\n        col_left: {\n          name: 'Insert cols(s) to the left',\n          hidden() {\n            return getContextMenuItemTrigger(this, 'col_left', 'disabled')();\n          },\n          callback() {\n            const cols = Number(prompt('Enter number of columns:', 1)) || 1;\n            const latestSelection = this.getSelectedRangeLast().getTopLeftCorner();\n            const alterAction = this.isRtl() ? 'insert_col_end' : 'insert_col_start';\n            this.alter(alterAction, latestSelection.col, cols, 'ContextMenu.columnLeft');\n          },\n        },\n        col_right: {\n          name: 'Insert cols(s) to the right',\n          hidden() {\n            return getContextMenuItemTrigger(this, 'col_right', 'disabled')();\n          },\n          callback() {\n            const cols = Number(prompt('Enter number of columns:', 1)) || 1;\n            const latestSelection = this.getSelectedRangeLast().getTopRightCorner();\n            const alterAction = this.isRtl() ? 'insert_col_start' : 'insert_col_end';\n            this.alter(alterAction, latestSelection.col, cols, 'ContextMenu.columnRight');\n          },\n        },\n        sp1: '---------',\n        rename_col: {\n          name: 'Rename column',\n          hidden() {\n            return !self.isSingleColumnSelected(this);\n          },\n          disabled() {\n            return !self.isSingleColumnSelected(this);\n          },\n          callback() {\n            self.renameColumn(this.getSelectedLast()[1]);\n          },\n        },\n        remove_row: {\n          hidden() {\n            return getContextMenuItemTrigger(this, 'remove_row', 'disabled')();\n          },\n        },\n        remove_col: {\n          hidden() {\n            return getContextMenuItemTrigger(this, 'remove_col', 'disabled')();\n          },\n        },\n        clear_column: {\n          hidden() {\n            return (\n              getContextMenuItemTrigger(this, 'clear_column', 'disabled')() ||\n              !self.isSingleColumnSelected(this)\n            );\n          },\n        },\n        sp2: '---------',\n        undo: 'undo',\n        redo: 'redo',\n      },\n    };\n\n    this.hot = new Handsontable(this.tableEl.current, {\n      ...(data.length ? {data} : {}),\n      width: '100%',\n      height: 320,\n      rowHeaders: true,\n      colHeaders: this.colHeaders,\n      minRows: MIN_ROWS,\n      minCols: Math.max(MIN_COLS, this.colHeaders.length),\n      autoWrapRow: true,\n      autoWrapCol: true,\n      contextMenu,\n      autoColumnSize: {\n        useHeaders: true,\n      },\n      fillHandle: 'vertical',\n      licenseKey: 'non-commercial-and-evaluation',\n      // Plugins\n      bindRowsWithHeaders: true,\n      copyPaste: true,\n      manualColumnMove: true,\n      manualColumnResize: true,\n      formulas: {\n        engine: HyperFormula,\n      },\n      // Hooks\n      afterChange(changes, source) {\n        if (['updateData', 'loadData'].includes(source)) {\n          return;\n        }\n        self.onUpdate({\n          editedColumns: changes.map((change) => self.colHeaders[change[1]]),\n        });\n      },\n      afterUpdateSettings(settings) {\n        const colHeadersChanged = !isEqual(settings.colHeaders, self.colHeaders);\n        if (!settings.colHeaders) {\n          return;\n        }\n        if (settings.colHeaders.length === self.colHeaders.length && colHeadersChanged) {\n          self.onUpdate({\n            renamedColumns: self.colHeaders.reduce((acc, header, index) => {\n              if (header !== settings.colHeaders[index]) {\n                acc.push(index);\n              }\n              return acc;\n            }, []),\n          });\n        }\n        if (settings.colHeaders.length !== self.colHeaders.length) {\n          self.onUpdate({\n            removedColumns: self.colHeaders.reduce((acc, header) => {\n              if (!settings.colHeaders.includes(header)) {\n                acc.push(header);\n              }\n              return acc;\n            }, []),\n          });\n        }\n      },\n      afterCreateCol(index, amount) {\n        self.onUpdate({createdColumns: Array.from({length: amount}, (_, i) => index + i)});\n      },\n      afterCreateRow(index, amount) {\n        self.onUpdate({createdRows: Array.from({length: amount}, (_, i) => index + i)});\n      },\n      afterRemoveCol(index, amount) {\n        const columns = Array.from({length: amount}, (_, i) => index + i);\n        self.onUpdate({\n          removedColumns: columns.map((index) => self.colHeaders[index]),\n        });\n      },\n      afterRemoveRow() {\n        self.onUpdate({\n          editedColumns: self.colHeaders,\n        });\n      },\n      afterOnCellMouseDown(e, coords) {\n        const isButton = e.target?.nodeName === 'BUTTON';\n        if (coords.row > -1 || coords.col === -1 || e.detail !== 2 || isButton) {\n          return;\n        }\n        setTimeout(() => {\n          self.renameColumn(coords.col);\n        }, 100);\n      },\n      init: () => {\n        window.dispatchEvent(new Event('resize'));\n      },\n    });\n  }\n\n  componentWillUnmount() {\n    this.hot?.destroy();\n  }\n\n  componentDidUpdate() {\n    const dataSources = this.serialize();\n    if (!isEqual(dataSources, this.props.dataSources)) {\n      this.colHeaders = Object.keys(this.props.dataSources);\n      this.hot.updateSettings({\n        colHeaders: this.colHeaders,\n      });\n      this.hot.updateData(this.deserialize());\n    }\n  }\n\n  deserialize() {\n    let col = 0;\n    return Object.entries(this.props.dataSources || {}).reduce((acc, [_, value]) => {\n      value.forEach((_, i) => {\n        if (!acc[i]) {\n          acc[i] = [];\n        }\n        acc[i][col] = value[i];\n      });\n      ++col;\n      return acc;\n    }, []);\n  }\n\n  serialize() {\n    const dataSources = {};\n    const data = this.hot.getData();\n    this.colHeaders = this.hot.getColHeader();\n\n    this.colHeaders.forEach((header, i) => {\n      const emptyRange = [-1, -1];\n      const colData = data.map((row, j) => {\n        if (isNil(row[i])) {\n          emptyRange[1] = j + 1;\n        } else {\n          emptyRange[0] = j + 1;\n          emptyRange[1] = j + 1;\n        }\n        return row[i];\n      });\n      if (emptyRange[0] === -1 || !colData.length) {\n        return;\n      }\n      const emptyRows = emptyRange[1] - emptyRange[0];\n      if (emptyRows > 0 && emptyRows === colData.length) {\n        return;\n      }\n      if (emptyRows > 0 && emptyRange[1] === colData.length) {\n        dataSources[header] = colData.slice(0, emptyRange[0]);\n      } else {\n        dataSources[header] = colData;\n      }\n    });\n\n    return dataSources;\n  }\n\n  onUpdate(changes) {\n    requestAnimationFrame(() => {\n      const update = {\n        layout: {},\n        traces: [],\n      };\n      const prevColHeaders = this.colHeaders;\n      const dataSources = this.serialize();\n      const dataSourceOptions = Object.keys(dataSources).map((name) => ({\n        value: name,\n        label: name,\n      }));\n\n      const {editedColumns = [], renamedColumns = [], removedColumns = []} = changes;\n\n      const attrs = [\n        ...this.props.data.reduce((acc, trace, index) => {\n          Object.entries(getAttrsPath(trace, TRACE_SRC_ATTRIBUTES)).forEach(([attr]) => {\n            acc.push({\n              attr,\n              index,\n              trace: true,\n            });\n          });\n          return acc;\n        }, []),\n        ...Object.entries(getAttrsPath(this.props.layout, LAYOUT_SRC_ATTRIBUTES)).reduce(\n          (acc, [attr]) => {\n            acc.push({\n              attr,\n              layout: true,\n            });\n            return acc;\n          },\n          []\n        ),\n      ];\n\n      attrs.forEach(({attr, trace, layout, index}) => {\n        function updateAttr(attr, value) {\n          if (trace && !update.traces[index]) {\n            update.traces[index] = {};\n          }\n          if (trace) {\n            update.traces[index][attr] = value;\n          }\n          if (layout) {\n            update.layout[attr] = value;\n          }\n        }\n\n        const container = trace ? this.props.data[index] : this.props.layout;\n\n        const srcAttr = getSrcAttr(container, attr, this.props.srcConverters);\n\n        // Handle edited columns\n        editedColumns.forEach((col) => {\n          if (inSrcAttr(srcAttr, col)) {\n            const data = getData(container, srcAttr, dataSources);\n            updateAttr(attr, data);\n          }\n        });\n\n        // Handle renamed columns\n        renamedColumns.forEach((colIndex) => {\n          const oldCol = prevColHeaders[colIndex];\n          const newCol = this.colHeaders[colIndex];\n          if (inSrcAttr(srcAttr, oldCol)) {\n            if (Array.isArray(srcAttr.value)) {\n              srcAttr.value = srcAttr.value.reduce((acc, value) => {\n                if (value === oldCol) {\n                  acc.push(newCol);\n                } else {\n                  acc.push(value);\n                }\n                return acc;\n              }, []);\n              updateAttr(srcAttr.key, srcAttr.value);\n              updateAttr(\n                `meta.columnNames.${attr}`,\n                getColumnNames(srcAttr.value, dataSourceOptions)\n              );\n            }\n            if (typeof srcAttr.value === 'string' && srcAttr.value === oldCol) {\n              srcAttr.value = newCol;\n              updateAttr(srcAttr.key, newCol);\n              updateAttr(\n                `meta.columnNames.${attr}`,\n                getColumnNames([srcAttr.value], dataSourceOptions)\n              );\n            }\n          }\n        });\n\n        // Handle removed columns\n        removedColumns.forEach((col) => {\n          if (inSrcAttr(srcAttr, col)) {\n            let data;\n            if (Array.isArray(srcAttr.value)) {\n              srcAttr.value = srcAttr.value.filter((value) => value !== col);\n              data = getData(container, srcAttr, dataSources);\n            }\n            if (typeof srcAttr.value === 'string' && srcAttr.value === col) {\n              srcAttr.value = null;\n              data = null;\n            }\n            updateAttr(srcAttr.key, srcAttr.value);\n            updateAttr(attr, data);\n          }\n        });\n      });\n\n      update.traces.forEach((update, i) => {\n        if (!Object.keys(update).length) {\n          return;\n        }\n        this.props.onUpdate({\n          type: EDITOR_ACTIONS.UPDATE_TRACES,\n          payload: {\n            update,\n            traceIndexes: [i],\n          },\n        });\n      });\n\n      if (Object.keys(update.layout).length) {\n        this.props.onUpdate({\n          type: EDITOR_ACTIONS.UPDATE_LAYOUT,\n          payload: {\n            update: update.layout,\n          },\n        });\n      }\n\n      this.props.onUpdate({\n        type: EDITOR_ACTIONS.UPDATE_DATA_SOURCES,\n        payload: {\n          dataSources,\n        },\n      });\n    });\n  }\n\n  isSingleColumnSelected() {\n    const ranges = this.hot.getSelectedRange() || [];\n    let start = Infinity;\n    let end = -Infinity;\n\n    ranges.forEach((cellRange) => {\n      if (cellRange.from.col < start) {\n        start = cellRange.from.col;\n      }\n      if (cellRange.to.col > end) {\n        end = cellRange.to.col;\n      }\n    });\n\n    return ranges.length && start - end === 0;\n  }\n\n  renameColumn(colIndex) {\n    const colHeaders = this.hot.getColHeader();\n    const newColHeader = prompt('Enter new column name:', colHeaders[colIndex]);\n    if (!newColHeader) {\n      return;\n    }\n    colHeaders[colIndex] = newColHeader;\n    this.hot.updateSettings({\n      colHeaders,\n    });\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"grid_panel\">\n          <div className=\"ht-table-wrapper ht-theme-main\">\n            <div className=\"border border-top\" />\n            <div className=\"border border-bottom\" />\n            <div className=\"border border-left\" />\n            <div className=\"border border-right\" />\n            <div ref={this.tableEl} />\n          </div>\n        </div>\n        <div\n          className=\"grid_panel__resize-bar\"\n          onMouseDown={(e) => {\n            e.preventDefault();\n            const startY = e.clientY;\n            const startHeight = this.hot.getSettings().height;\n            let height = startHeight;\n\n            const handleMouseMove = (e) => {\n              e.preventDefault();\n              const deltaY = e.clientY - startY;\n              this.previewEl.current.style.top = deltaY + 'px';\n              height = Math.max(MIN_GRID_HEIGHT, startHeight + deltaY);\n            };\n\n            const handleMouseUp = () => {\n              document.removeEventListener('mousemove', handleMouseMove);\n              document.removeEventListener('mouseup', handleMouseUp);\n              this.previewEl.current.style.top = '0px';\n              this.hot.updateSettings({\n                height,\n              });\n              requestAnimationFrame(() => {\n                this.props.onPlotResize();\n              });\n            };\n\n            document.addEventListener('mousemove', handleMouseMove);\n            document.addEventListener('mouseup', handleMouseUp);\n          }}\n        >\n          <div className=\"grid_panel__resize-divider\" />\n          <div className=\"grid_panel__resize-preview\" ref={this.previewEl} />\n        </div>\n      </>\n    );\n  }\n}\n\nDataSourcesEditor.propTypes = {\n  data: PropTypes.array,\n  layout: PropTypes.object,\n  dataSources: PropTypes.object,\n  srcConverters: PropTypes.shape({\n    toSrc: PropTypes.func.isRequired,\n    fromSrc: PropTypes.func.isRequired,\n  }),\n  onUpdate: PropTypes.func,\n  onPlotResize: PropTypes.func,\n};\n\nexport default DataSourcesEditor;\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"connectTraceToPlot.js","names":["_react","_interopRequireWildcard","require","_isEqual","_interopRequireDefault","_propTypes","_nested_property","_lib","_multiValues","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","_extends","assign","bind","arguments","length","apply","__signature__","signature","connectTraceToPlot","WrappedComponent","TraceConnectedComponent","Component","constructor","props","context","deleteTrace","updateTrace","moveTrace","getTraceDflt","setLocals","UNSAFE_componentWillReceiveProps","nextProps","nextContext","traceIndexes","data","fullData","plotly","trace","fullTrace","getFullTrace","childContext","getDflt","attr","dflt","map","trIndex","allEqual","every","val","isEqual","getValObject","PlotSchema","getTraceValObject","nestedProperty","parts","updateContainer","deleteContainer","moveContainer","container","fullContainer","multiValuedFullContainer","deepCopyPublic","forEach","keys","key","setMultiValuedContainer","searchArrays","multiValuedContainer","defaultContainer","icon","renderTraceIcon","plotlyTraceToCustomTrace","name","getParsedTemplateString","meta","getChildContext","update","onUpdate","splitTraceGroup","fullDataArrayPosition","p","_group","containsAnSrc","filter","endsWith","Array","isArray","type","EDITOR_ACTIONS","UPDATE_TRACES","payload","currentTrace","DELETE_TRACE","axesToBeGarbageCollected","subplotToBeGarbageCollected","subplotType","traceTypeToAxisType","subplotNames","xaxis","yaxis","SUBPLOT_TO_ATTR","isSubplotUsedAnywhereElse","subplotName","some","charAt","split","index","push","direction","traceIndex","desiredIndex","MOVE_TO","fromIndex","toIndex","path","_nestedProperty$get","dfltGraphDiv","_fullData","_template","render","createElement","__reactstandin__regenerateByEval","code","eval","displayName","concat","getDisplayName","propTypes","PropTypes","arrayOf","number","isRequired","contextTypes","array","object","func","layout","any","childContextTypes","plotly_editor_traits","reactHotLoader","register","leaveModule"],"sources":["../../src/lib/connectTraceToPlot.js"],"sourcesContent":["import React, {Component} from 'react';\nimport isEqual from 'lodash/isEqual';\nimport PropTypes from 'prop-types';\nimport nestedProperty from 'plotly.js/src/lib/nested_property';\nimport {\n  getDisplayName,\n  plotlyTraceToCustomTrace,\n  renderTraceIcon,\n  traceTypeToAxisType,\n  getFullTrace,\n  getParsedTemplateString,\n} from '../lib';\nimport {deepCopyPublic, setMultiValuedContainer} from './multiValues';\nimport {EDITOR_ACTIONS, SUBPLOT_TO_ATTR} from 'lib/constants';\n\nexport default function connectTraceToPlot(WrappedComponent) {\n  class TraceConnectedComponent extends Component {\n    constructor(props, context) {\n      super(props, context);\n\n      this.deleteTrace = this.deleteTrace.bind(this);\n      this.updateTrace = this.updateTrace.bind(this);\n      this.moveTrace = this.moveTrace.bind(this);\n      this.getTraceDflt = this.getTraceDflt.bind(this);\n      this.setLocals(props, context);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n      this.setLocals(nextProps, nextContext);\n    }\n\n    setLocals(props, context) {\n      const {traceIndexes} = props;\n      const {data, fullData, plotly} = context;\n\n      const trace = data[traceIndexes[0]];\n      const fullTrace = getFullTrace(props, context);\n\n      this.childContext = {\n        getDflt: (attr) => {\n          const dflt = this.props.traceIndexes.map((trIndex) => this.getTraceDflt(trIndex, attr));\n          const allEqual =\n            this.props.traceIndexes.length > 1 ? dflt.every((val) => isEqual(val, dflt[0])) : true;\n          return allEqual ? dflt[0] : undefined;\n        },\n        getValObject: (attr) =>\n          !plotly\n            ? null\n            : plotly.PlotSchema.getTraceValObject(fullTrace, nestedProperty({}, attr).parts),\n        updateContainer: this.updateTrace,\n        deleteContainer: this.deleteTrace,\n        moveContainer: this.moveTrace,\n        container: trace,\n        fullContainer: fullTrace,\n        traceIndexes: this.props.traceIndexes,\n      };\n\n      if (traceIndexes.length > 1) {\n        const multiValuedFullContainer = deepCopyPublic(fullTrace);\n        fullData.forEach((t) =>\n          Object.keys(t).forEach((key) =>\n            setMultiValuedContainer(multiValuedFullContainer, deepCopyPublic(t), key, {\n              searchArrays: true,\n            })\n          )\n        );\n        const multiValuedContainer = deepCopyPublic(trace);\n        data.forEach((t) =>\n          Object.keys(t).forEach((key) =>\n            setMultiValuedContainer(multiValuedContainer, deepCopyPublic(t), key, {\n              searchArrays: true,\n            })\n          )\n        );\n        this.childContext.fullContainer = multiValuedFullContainer;\n        this.childContext.defaultContainer = fullTrace;\n        this.childContext.container = multiValuedContainer;\n      }\n\n      if (trace && fullTrace) {\n        this.icon = renderTraceIcon(plotlyTraceToCustomTrace(trace));\n        this.name = getParsedTemplateString(fullTrace.name, {meta: fullTrace.meta});\n      }\n    }\n\n    getChildContext() {\n      return this.childContext;\n    }\n\n    updateTrace(update) {\n      if (this.context.onUpdate) {\n        const splitTraceGroup = this.props.fullDataArrayPosition\n          ? this.props.fullDataArrayPosition.map((p) => this.context.fullData[p]._group)\n          : null;\n\n        const containsAnSrc = Object.keys(update).filter((a) => a.endsWith('src')).length > 0;\n\n        if (Array.isArray(update)) {\n          update.forEach((u, i) => {\n            this.context.onUpdate({\n              type: EDITOR_ACTIONS.UPDATE_TRACES,\n              payload: {\n                update: u,\n                traceIndexes: [this.props.traceIndexes[i]],\n                splitTraceGroup: splitTraceGroup ? splitTraceGroup[i] : null,\n              },\n            });\n          });\n        } else if (splitTraceGroup && !containsAnSrc) {\n          this.props.traceIndexes.forEach((t, i) => {\n            this.context.onUpdate({\n              type: EDITOR_ACTIONS.UPDATE_TRACES,\n              payload: {\n                update,\n                traceIndexes: [this.props.traceIndexes[i]],\n                splitTraceGroup: splitTraceGroup ? splitTraceGroup[i] : null,\n              },\n            });\n          });\n        } else {\n          this.context.onUpdate({\n            type: EDITOR_ACTIONS.UPDATE_TRACES,\n            payload: {\n              update,\n              traceIndexes: this.props.traceIndexes,\n            },\n          });\n        }\n      }\n    }\n\n    deleteTrace() {\n      const currentTrace = this.context.fullData[this.props.traceIndexes[0]];\n      if (!currentTrace && this.context.onUpdate) {\n        this.context.onUpdate({\n          type: EDITOR_ACTIONS.DELETE_TRACE,\n          payload: {\n            traceIndexes: this.props.traceIndexes,\n          },\n        });\n        return;\n      }\n      const axesToBeGarbageCollected = [];\n      let subplotToBeGarbageCollected = null;\n      const subplotType = traceTypeToAxisType(currentTrace.type);\n\n      if (subplotType) {\n        const subplotNames =\n          subplotType === 'cartesian'\n            ? [currentTrace.xaxis || 'xaxis', currentTrace.yaxis || 'yaxis']\n            : currentTrace[SUBPLOT_TO_ATTR[subplotType].data] || SUBPLOT_TO_ATTR[subplotType].data;\n\n        const isSubplotUsedAnywhereElse = (subplotType, subplotName) =>\n          this.context.fullData.some(\n            (trace) =>\n              (trace[SUBPLOT_TO_ATTR[subplotType].data] === subplotName ||\n                ((subplotType === 'xaxis' || subplotType === 'yaxis') && subplotName.charAt(1)) ===\n                  '' ||\n                (subplotName.split(subplotType)[1] === '' &&\n                  trace[SUBPLOT_TO_ATTR[subplotType].data] === null)) &&\n              trace.index !== this.props.traceIndexes[0]\n          );\n\n        // When we delete a subplot, make sure no unused axes/subplots are left\n        if (subplotType === 'cartesian') {\n          if (!isSubplotUsedAnywhereElse('xaxis', subplotNames[0])) {\n            axesToBeGarbageCollected.push(subplotNames[0]);\n          }\n          if (!isSubplotUsedAnywhereElse('yaxis', subplotNames[1])) {\n            axesToBeGarbageCollected.push(subplotNames[1]);\n          }\n        } else {\n          if (!isSubplotUsedAnywhereElse(subplotType, subplotNames)) {\n            subplotToBeGarbageCollected = subplotNames;\n          }\n        }\n      }\n\n      if (this.context.onUpdate) {\n        this.context.onUpdate({\n          type: EDITOR_ACTIONS.DELETE_TRACE,\n          payload: {\n            axesToBeGarbageCollected,\n            subplotToBeGarbageCollected,\n            traceIndexes: this.props.traceIndexes,\n          },\n        });\n      }\n    }\n\n    moveTrace(direction) {\n      const traceIndex = this.props.traceIndexes[0];\n      const desiredIndex = direction === 'up' ? traceIndex - 1 : traceIndex + 1;\n      this.context.onUpdate({\n        type: EDITOR_ACTIONS.MOVE_TO,\n        payload: {\n          fromIndex: traceIndex,\n          toIndex: desiredIndex,\n          path: 'data',\n        },\n      });\n    }\n\n    getTraceDflt(trIndex, attr) {\n      const {dfltGraphDiv} = this.context;\n      return (\n        nestedProperty(dfltGraphDiv._fullData[trIndex]._template || {}, attr).get() ??\n        nestedProperty(dfltGraphDiv._fullData[trIndex], attr).get()\n      );\n    }\n\n    render() {\n      return <WrappedComponent name={this.name} icon={this.icon} {...this.props} />;\n    }\n  }\n\n  TraceConnectedComponent.displayName = `TraceConnected${getDisplayName(WrappedComponent)}`;\n\n  TraceConnectedComponent.propTypes = {\n    traceIndexes: PropTypes.arrayOf(PropTypes.number).isRequired,\n    fullDataArrayPosition: PropTypes.arrayOf(PropTypes.number),\n  };\n\n  TraceConnectedComponent.contextTypes = {\n    fullData: PropTypes.array,\n    data: PropTypes.array,\n    plotly: PropTypes.object,\n    onUpdate: PropTypes.func,\n    layout: PropTypes.object,\n    dfltGraphDiv: PropTypes.any,\n  };\n\n  TraceConnectedComponent.childContextTypes = {\n    getDflt: PropTypes.func,\n    getValObject: PropTypes.func,\n    updateContainer: PropTypes.func,\n    deleteContainer: PropTypes.func,\n    defaultContainer: PropTypes.object,\n    container: PropTypes.object,\n    fullContainer: PropTypes.object,\n    traceIndexes: PropTypes.array,\n    moveContainer: PropTypes.func,\n  };\n\n  const {plotly_editor_traits} = WrappedComponent;\n  TraceConnectedComponent.plotly_editor_traits = plotly_editor_traits;\n\n  return TraceConnectedComponent;\n}\n"],"mappings":"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","ignoreList":[]}
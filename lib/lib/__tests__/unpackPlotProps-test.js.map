{"version":3,"file":"unpackPlotProps-test.js","names":["_index","require","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","default","signature","a","validate","string","expected","config","wrappedComponentDisplayName","isVisible","computeCustomConfigVisibility","attr","expect","toBe","describe","customConfig","visibility_rules","blacklist","type","regex_match","exceptions","it","cases","bg_color","somethingElse","colorscale","Object","keys","forEach","c","whitelist","case1","case2","reactHotLoader","register","leaveModule"],"sources":["../../../src/lib/__tests__/unpackPlotProps-test.js"],"sourcesContent":["import {computeCustomConfigVisibility} from '../index';\n\nconst validate = (string, expected, config, wrappedComponentDisplayName) => {\n  const isVisible = computeCustomConfigVisibility(\n    {attr: string},\n    config,\n    wrappedComponentDisplayName\n  );\n  expect(isVisible).toBe(expected[string]);\n};\n\ndescribe('computeCustomConfigVisibility', () => {\n  const customConfig = {\n    visibility_rules: {\n      blacklist: [\n        {\n          type: 'attrName',\n          regex_match: 'color',\n          exceptions: [\n            {\n              type: 'attrName',\n              regex_match: 'colorscale',\n              exceptions: [\n                {type: 'attrName', regex_match: 'colorscale.title.font.color'},\n                {type: 'attrName', regex_match: 'colorscale.tickcolor'},\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  };\n\n  it('correctly blacklists attributes taking into account exceptions', () => {\n    const cases = {\n      bg_color: false,\n      'font.color': false,\n      somethingElse: true,\n      colorscale: true,\n      'colorscale.somethingElse': true,\n      'colorscale.title.font.color': false,\n      'colorscale.tickcolor': false,\n    };\n\n    Object.keys(cases).forEach((c) => validate(c, cases, customConfig));\n  });\n\n  it('correctly whitelists attributes taking into account exceptions', () => {\n    const config = {visibility_rules: {whitelist: customConfig.visibility_rules.blacklist}};\n\n    const cases = {\n      bg_color: true,\n      'font.color': true,\n      somethingElse: false,\n      colorscale: false,\n      'colorscale.somethingElse': false,\n      'colorscale.title.font.color': true,\n      'colorscale.tickcolor': true,\n    };\n\n    Object.keys(cases).forEach((c) => validate(c, cases, config));\n  });\n\n  it('correctly displays visibility based on controlType', () => {\n    const config = {\n      visibility_rules: {\n        blacklist: [\n          {\n            type: 'attrName',\n            regex_match: 'color',\n            exceptions: [\n              {\n                type: 'attrName',\n                regex_match: 'marker.color',\n                exceptions: [{type: 'controlType', regex_match: '^ColorscalePicker$'}],\n              },\n            ],\n          },\n        ],\n      },\n    };\n\n    const case1 = {'marker.color': false};\n    const case2 = {'marker.color': true};\n    Object.keys(case1).forEach((c) => validate(c, case1, config, 'ColorscalePicker'));\n    Object.keys(case2).forEach((c) => validate(c, case2, config, 'AnotherPicker'));\n  });\n});\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"connectAnnotationToLayout-test.js","names":["_NumericInput","_interopRequireDefault","require","_react","_fields","_testUtils","_","e","__esModule","default","ownKeys","r","t","Object","keys","getOwnPropertySymbols","o","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_toPropertyKey","value","configurable","writable","i","_toPrimitive","Symbol","toPrimitive","call","TypeError","String","Number","__signature__","reactHotLoaderGlobal","signature","a","describe","it","beforeUpdateLayout","jest","fn","fixture","fixtures","scatter","layout","annotations","text","ConnectedNumeric","connectLayoutToPlot","connectAnnotationToLayout","Numeric","mount","createElement","TestEditor","annotationIndex","label","attr","find","NumericInput","simulate","payload","mock","calls","expect","update","toEqual"],"sources":["../../../src/lib/__tests__/connectAnnotationToLayout-test.js"],"sourcesContent":["import NumericInput from '../../components/widgets/NumericInput';\nimport React from 'react';\nimport {Numeric} from '../../components/fields';\nimport {TestEditor, fixtures, mount} from '../test-utils';\nimport {connectLayoutToPlot, connectAnnotationToLayout} from '..';\n\ndescribe('connectAnnotationToLayout', () => {\n  it('sends update to layout.annotation[index]', () => {\n    const beforeUpdateLayout = jest.fn();\n    const fixture = fixtures.scatter({\n      layout: {annotations: [{text: 'hodor'}]},\n    });\n    const ConnectedNumeric = connectLayoutToPlot(connectAnnotationToLayout(Numeric));\n\n    mount(\n      <TestEditor {...{...fixture, beforeUpdateLayout}}>\n        <ConnectedNumeric annotationIndex={0} label=\"Angle\" attr=\"textangle\" />\n      </TestEditor>\n    )\n      .find(NumericInput)\n      .find('.js-numeric-increase')\n      .simulate('click');\n\n    const payload = beforeUpdateLayout.mock.calls[0][0];\n    expect(payload.update).toEqual({'annotations[0].textangle': 1});\n  });\n});\n"],"mappings":"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","ignoreList":[]}
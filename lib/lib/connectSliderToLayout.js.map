{"version":3,"file":"connectSliderToLayout.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_lib","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","connectSliderToLayout","WrappedComponent","SliderConnectedComponent","Component","constructor","props","context","updateSlider","bind","setLocals","UNSAFE_componentWillReceiveProps","nextProps","nextContext","sliderIndex","container","fullContainer","sliders","fullSliders","getChildContext","getDflt","getValObject","attr","concat","updateContainer","update","newUpdate","key","newkey","render","createElement","__reactstandin__regenerateByEval","code","eval","displayName","getDisplayName","propTypes","PropTypes","number","isRequired","contextTypes","object","onUpdate","func","childContextTypes","plotly_editor_traits","reactHotLoader","register","leaveModule"],"sources":["../../src/lib/connectSliderToLayout.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {getDisplayName} from '../lib';\n\nexport default function connectSliderToLayout(WrappedComponent) {\n  class SliderConnectedComponent extends Component {\n    constructor(props, context) {\n      super(props, context);\n      this.updateSlider = this.updateSlider.bind(this);\n      this.setLocals(props, context);\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps, nextContext) {\n      this.setLocals(nextProps, nextContext);\n    }\n\n    setLocals(props, context) {\n      const {sliderIndex} = props;\n      const {container, fullContainer} = context;\n\n      const sliders = container.sliders || [];\n      const fullSliders = fullContainer.sliders || [];\n      this.container = sliders[sliderIndex];\n      this.fullContainer = fullSliders[sliderIndex];\n    }\n\n    getChildContext() {\n      return {\n        getDflt: () => undefined,\n        getValObject: (attr) =>\n          !this.context.getValObject ? null : this.context.getValObject(`sliders[].${attr}`),\n        updateContainer: this.updateSlider,\n        container: this.container,\n        fullContainer: this.fullContainer,\n      };\n    }\n\n    updateSlider(update) {\n      const newUpdate = {};\n      const {sliderIndex} = this.props;\n      for (const key in update) {\n        const newkey = `sliders[${sliderIndex}].${key}`;\n        newUpdate[newkey] = update[key];\n      }\n      this.context.updateContainer(newUpdate);\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  SliderConnectedComponent.displayName = `SliderConnected${getDisplayName(WrappedComponent)}`;\n\n  SliderConnectedComponent.propTypes = {\n    sliderIndex: PropTypes.number.isRequired,\n  };\n\n  SliderConnectedComponent.contextTypes = {\n    container: PropTypes.object,\n    fullContainer: PropTypes.object,\n    onUpdate: PropTypes.func,\n    updateContainer: PropTypes.func,\n    getValObject: PropTypes.func,\n  };\n\n  SliderConnectedComponent.childContextTypes = {\n    updateContainer: PropTypes.func,\n    container: PropTypes.object,\n    fullContainer: PropTypes.object,\n    getValObject: PropTypes.func,\n    getDflt: PropTypes.func,\n  };\n\n  const {plotly_editor_traits} = WrappedComponent;\n  SliderConnectedComponent.plotly_editor_traits = plotly_editor_traits;\n\n  return SliderConnectedComponent;\n}\n"],"mappings":"4GAAA,IAAAA,MAAA,CAAAC,uBAAA,CAAAC,OAAA,WACA,IAAAC,UAAA,CAAAC,sBAAA,CAAAF,OAAA,gBACA,IAAAG,IAAA,CAAAH,OAAA,WAAsC,SAAAE,uBAAAE,CAAA,SAAAA,CAAA,EAAAA,CAAA,CAAAC,UAAA,CAAAD,CAAA,EAAAE,OAAA,CAAAF,CAAA,WAAAG,yBAAAH,CAAA,wBAAAI,OAAA,iBAAAC,CAAA,KAAAD,OAAA,CAAAE,CAAA,KAAAF,OAAA,QAAAD,wBAAA,UAAAA,yBAAAH,CAAA,SAAAA,CAAA,CAAAM,CAAA,CAAAD,CAAA,GAAAL,CAAA,WAAAL,wBAAAK,CAAA,CAAAK,CAAA,MAAAA,CAAA,EAAAL,CAAA,EAAAA,CAAA,CAAAC,UAAA,QAAAD,CAAA,WAAAA,CAAA,mBAAAA,CAAA,qBAAAA,CAAA,QAAAE,OAAA,CAAAF,CAAA,MAAAM,CAAA,CAAAH,wBAAA,CAAAE,CAAA,KAAAC,CAAA,EAAAA,CAAA,CAAAC,GAAA,CAAAP,CAAA,SAAAM,CAAA,CAAAE,GAAA,CAAAR,CAAA,MAAAS,CAAA,EAAAC,SAAA,OAAAC,CAAA,CAAAC,MAAA,CAAAC,cAAA,EAAAD,MAAA,CAAAE,wBAAA,SAAAC,CAAA,IAAAf,CAAA,gBAAAe,CAAA,KAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,CAAAe,CAAA,OAAAG,CAAA,CAAAP,CAAA,CAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,CAAAe,CAAA,OAAAG,CAAA,GAAAA,CAAA,CAAAV,GAAA,EAAAU,CAAA,CAAAC,GAAA,EAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,CAAAM,CAAA,CAAAG,CAAA,EAAAT,CAAA,CAAAM,CAAA,EAAAf,CAAA,CAAAe,CAAA,SAAAN,CAAA,CAAAP,OAAA,CAAAF,CAAA,CAAAM,CAAA,EAAAA,CAAA,CAAAa,GAAA,CAAAnB,CAAA,CAAAS,CAAA,EAAAA,CAAA,iBAAAW,WAAA,QAAAC,oBAAA,eAAAA,oBAAA,CAAAD,WAAA,CAAAE,SAAA,CAAAF,WAAA,EAAAA,WAAA,CAAAG,MAAA,UAAAC,aAAA,QAAAH,oBAAA,eAAAA,oBAAA,CAAAnB,OAAA,CAAAuB,SAAA,UAAAd,CAAA,SAAAA,CAAA,EAEvB,QAAS,CAAAe,qBAAqBA,CAACC,gBAAgB,CAAE,CAC9D,KAAM,CAAAC,wBAAwB,QAAS,CAAAC,gBAAU,CAC/CC,WAAWA,CAACC,KAAK,CAAEC,OAAO,CAAE,CAC1B,KAAK,CAACD,KAAK,CAAEC,OAAO,CAAC,CACrB,IAAI,CAACC,YAAY,CAAG,IAAI,CAACA,YAAY,CAACC,IAAI,CAAC,IAAI,CAAC,CAChD,IAAI,CAACC,SAAS,CAACJ,KAAK,CAAEC,OAAO,CAC/B,CAEAI,gCAAgCA,CAACC,SAAS,CAAEC,WAAW,CAAE,CACvD,IAAI,CAACH,SAAS,CAACE,SAAS,CAAEC,WAAW,CACvC,CAEAH,SAASA,CAACJ,KAAK,CAAEC,OAAO,CAAE,CACxB,KAAM,CAACO,WAAW,CAAC,CAAGR,KAAK,CAC3B,KAAM,CAACS,SAAS,CAAEC,aAAa,CAAC,CAAGT,OAAO,CAE1C,KAAM,CAAAU,OAAO,CAAGF,SAAS,CAACE,OAAO,EAAI,EAAE,CACvC,KAAM,CAAAC,WAAW,CAAGF,aAAa,CAACC,OAAO,EAAI,EAAE,CAC/C,IAAI,CAACF,SAAS,CAAGE,OAAO,CAACH,WAAW,CAAC,CACrC,IAAI,CAACE,aAAa,CAAGE,WAAW,CAACJ,WAAW,CAC9C,CAEAK,eAAeA,CAAA,CAAG,CAChB,MAAO,CACLC,OAAO,CAAEA,CAAA,GAAMvB,SAAS,CACxBwB,YAAY,CAAGC,IAAI,EACjB,CAAC,IAAI,CAACf,OAAO,CAACc,YAAY,CAAG,IAAI,CAAG,IAAI,CAACd,OAAO,CAACc,YAAY,cAAAE,MAAA,CAAcD,IAAI,CAAE,CAAC,CACpFE,eAAe,CAAE,IAAI,CAAChB,YAAY,CAClCO,SAAS,CAAE,IAAI,CAACA,SAAS,CACzBC,aAAa,CAAE,IAAI,CAACA,aACtB,CACF,CAEAR,YAAYA,CAACiB,MAAM,CAAE,CACnB,KAAM,CAAAC,SAAS,CAAG,CAAC,CAAC,CACpB,KAAM,CAACZ,WAAW,CAAC,CAAG,IAAI,CAACR,KAAK,CAChC,IAAK,KAAM,CAAAqB,GAAG,GAAI,CAAAF,MAAM,CAAE,CACxB,KAAM,CAAAG,MAAM,YAAAL,MAAA,CAAcT,WAAW,OAAAS,MAAA,CAAKI,GAAG,CAAE,CAC/CD,SAAS,CAACE,MAAM,CAAC,CAAGH,MAAM,CAACE,GAAG,CAChC,CACA,IAAI,CAACpB,OAAO,CAACiB,eAAe,CAACE,SAAS,CACxC,CAEAG,MAAMA,CAAA,CAAG,CACP,MAAO,CAAA5D,MAAA,CAAAQ,OAAA,CAAAqD,aAAA,CAAC5B,gBAAgB,CAAK,IAAI,CAACI,KAAQ,CAC5C,CAACyB,iCAAAJ,GAAA,CAAAK,IAAA,OAAAL,GAAA,EAAAM,IAAA,CAAAD,IAAA,EACH,CAEA7B,wBAAwB,CAAC+B,WAAW,mBAAAX,MAAA,CAAqB,GAAAY,mBAAc,EAACjC,gBAAgB,CAAC,CAAE,CAE3FC,wBAAwB,CAACiC,SAAS,CAAG,CACnCtB,WAAW,CAAEuB,kBAAS,CAACC,MAAM,CAACC,UAChC,CAAC,CAEDpC,wBAAwB,CAACqC,YAAY,CAAG,CACtCzB,SAAS,CAAEsB,kBAAS,CAACI,MAAM,CAC3BzB,aAAa,CAAEqB,kBAAS,CAACI,MAAM,CAC/BC,QAAQ,CAAEL,kBAAS,CAACM,IAAI,CACxBnB,eAAe,CAAEa,kBAAS,CAACM,IAAI,CAC/BtB,YAAY,CAAEgB,kBAAS,CAACM,IAC1B,CAAC,CAEDxC,wBAAwB,CAACyC,iBAAiB,CAAG,CAC3CpB,eAAe,CAAEa,kBAAS,CAACM,IAAI,CAC/B5B,SAAS,CAAEsB,kBAAS,CAACI,MAAM,CAC3BzB,aAAa,CAAEqB,kBAAS,CAACI,MAAM,CAC/BpB,YAAY,CAAEgB,kBAAS,CAACM,IAAI,CAC5BvB,OAAO,CAAEiB,kBAAS,CAACM,IACrB,CAAC,CAED,KAAM,CAACE,oBAAoB,CAAC,CAAG3C,gBAAgB,CAC/CC,wBAAwB,CAAC0C,oBAAoB,CAAGA,oBAAoB,CAEpE,MAAO,CAAA1C,wBACT,CAAC,iBAAA2C,cAAA,QAAAlD,oBAAA,eAAAA,oBAAA,CAAAnB,OAAA,CAAAoB,SAAA,KAAAiD,cAAA,SAAAA,cAAA,CAAAC,QAAA,CA1EuB9C,qBAAqB,wHAAA+C,WAAA,QAAApD,oBAAA,eAAAA,oBAAA,CAAAoD,WAAA,CAAAnD,SAAA,CAAAmD,WAAA,EAAAA,WAAA,CAAAlD,MAAA","ignoreList":[]}
"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.adjustColorscale=adjustColorscale;Object.defineProperty(exports,"axisIdToAxisName",{enumerable:true,get:function get(){return _getAllAxes.axisIdToAxisName}});Object.defineProperty(exports,"bem",{enumerable:true,get:function get(){return _bem.default}});Object.defineProperty(exports,"camelCase",{enumerable:true,get:function get(){return _strings.camelCase}});Object.defineProperty(exports,"capitalize",{enumerable:true,get:function get(){return _strings.capitalize}});exports.clamp=clamp;Object.defineProperty(exports,"computeCustomConfigVisibility",{enumerable:true,get:function get(){return _unpackPlotProps.computeCustomConfigVisibility}});Object.defineProperty(exports,"computeTraceOptionsFromSchema",{enumerable:true,get:function get(){return _computeTraceOptionsFromSchema.computeTraceOptionsFromSchema}});Object.defineProperty(exports,"connectAggregationToTransform",{enumerable:true,get:function get(){return _connectAggregationToTransform.default}});Object.defineProperty(exports,"connectAnnotationToLayout",{enumerable:true,get:function get(){return _connectAnnotationToLayout.default}});Object.defineProperty(exports,"connectAxesToLayout",{enumerable:true,get:function get(){return _connectAxesToLayout.default}});Object.defineProperty(exports,"connectCartesianSubplotToLayout",{enumerable:true,get:function get(){return _connectCartesianSubplotToLayout.default}});Object.defineProperty(exports,"connectImageToLayout",{enumerable:true,get:function get(){return _connectImageToLayout.default}});Object.defineProperty(exports,"connectLayersToMapbox",{enumerable:true,get:function get(){return _connectLayersToMapbox.default}});Object.defineProperty(exports,"connectLayoutToPlot",{enumerable:true,get:function get(){return _connectLayoutToPlot.default}});Object.defineProperty(exports,"connectNonCartesianSubplotToLayout",{enumerable:true,get:function get(){return _connectNonCartesianSubplotToLayout.default}});Object.defineProperty(exports,"connectRangeSelectorToAxis",{enumerable:true,get:function get(){return _connectRangeSelectorToAxis.default}});Object.defineProperty(exports,"connectShapeToLayout",{enumerable:true,get:function get(){return _connectShapeToLayout.default}});Object.defineProperty(exports,"connectSliderToLayout",{enumerable:true,get:function get(){return _connectSliderToLayout.default}});Object.defineProperty(exports,"connectToContainer",{enumerable:true,get:function get(){return _connectToContainer.default}});Object.defineProperty(exports,"connectTraceToPlot",{enumerable:true,get:function get(){return _connectTraceToPlot.default}});Object.defineProperty(exports,"connectTransformToTrace",{enumerable:true,get:function get(){return _connectTransformToTrace.default}});Object.defineProperty(exports,"connectUpdateMenuToLayout",{enumerable:true,get:function get(){return _connectUpdateMenuToLayout.default}});exports.constants=void 0;Object.defineProperty(exports,"containerConnectedContextTypes",{enumerable:true,get:function get(){return _connectToContainer.containerConnectedContextTypes}});Object.defineProperty(exports,"dereference",{enumerable:true,get:function get(){return _dereference.default}});Object.defineProperty(exports,"getAdjustedSrcAttr",{enumerable:true,get:function get(){return _dataSources.getAdjustedSrcAttr}});Object.defineProperty(exports,"getAllAxes",{enumerable:true,get:function get(){return _getAllAxes.default}});Object.defineProperty(exports,"getAttrsPath",{enumerable:true,get:function get(){return _dataSources.getAttrsPath}});Object.defineProperty(exports,"getAxisTitle",{enumerable:true,get:function get(){return _getAllAxes.getAxisTitle}});Object.defineProperty(exports,"getColumnNames",{enumerable:true,get:function get(){return _dereference.getColumnNames}});Object.defineProperty(exports,"getData",{enumerable:true,get:function get(){return _dataSources.getData}});exports.getDisplayName=getDisplayName;exports.getFullTrace=getFullTrace;exports.getParsedTemplateString=getParsedTemplateString;Object.defineProperty(exports,"getSrcAttr",{enumerable:true,get:function get(){return _dataSources.getSrcAttr}});Object.defineProperty(exports,"getSubplotTitle",{enumerable:true,get:function get(){return _getAllAxes.getSubplotTitle}});Object.defineProperty(exports,"hasValidCustomConfigVisibilityRules",{enumerable:true,get:function get(){return _unpackPlotProps.hasValidCustomConfigVisibilityRules}});Object.defineProperty(exports,"inSrcAttr",{enumerable:true,get:function get(){return _dataSources.inSrcAttr}});Object.defineProperty(exports,"isPlainObject",{enumerable:true,get:function get(){return _walkObject.isPlainObject}});Object.defineProperty(exports,"isVisibleGivenCustomConfig",{enumerable:true,get:function get(){return _unpackPlotProps.isVisibleGivenCustomConfig}});Object.defineProperty(exports,"localize",{enumerable:true,get:function get(){return _localize.default}});Object.defineProperty(exports,"localizeString",{enumerable:true,get:function get(){return _localize.localizeString}});Object.defineProperty(exports,"lowerCase",{enumerable:true,get:function get(){return _strings.lowerCase}});exports.maybeAdjustSrc=maybeAdjustSrc;exports.maybeTransposeData=maybeTransposeData;Object.defineProperty(exports,"pascalCase",{enumerable:true,get:function get(){return _strings.pascalCase}});Object.defineProperty(exports,"plotlyTraceToCustomTrace",{enumerable:true,get:function get(){return _customTraceType.plotlyTraceToCustomTrace}});Object.defineProperty(exports,"removeNonWord",{enumerable:true,get:function get(){return _strings.removeNonWord}});exports.renderTraceIcon=renderTraceIcon;Object.defineProperty(exports,"striptags",{enumerable:true,get:function get(){return _striptags.default}});exports.tooLight=tooLight;Object.defineProperty(exports,"traceTypeToAxisType",{enumerable:true,get:function get(){return _getAllAxes.traceTypeToAxisType}});Object.defineProperty(exports,"traceTypeToPlotlyInitFigure",{enumerable:true,get:function get(){return _customTraceType.traceTypeToPlotlyInitFigure}});exports.transpose=transpose;Object.defineProperty(exports,"unpackPlotProps",{enumerable:true,get:function get(){return _unpackPlotProps.default}});Object.defineProperty(exports,"upperCase",{enumerable:true,get:function get(){return _strings.upperCase}});Object.defineProperty(exports,"walkObject",{enumerable:true,get:function get(){return _walkObject.default}});var _bem=_interopRequireDefault(require("./bem"));var _connectCartesianSubplotToLayout=_interopRequireDefault(require("./connectCartesianSubplotToLayout"));var _connectNonCartesianSubplotToLayout=_interopRequireDefault(require("./connectNonCartesianSubplotToLayout"));var _connectAnnotationToLayout=_interopRequireDefault(require("./connectAnnotationToLayout"));var _connectShapeToLayout=_interopRequireDefault(require("./connectShapeToLayout"));var _connectSliderToLayout=_interopRequireDefault(require("./connectSliderToLayout"));var _connectImageToLayout=_interopRequireDefault(require("./connectImageToLayout"));var _connectUpdateMenuToLayout=_interopRequireDefault(require("./connectUpdateMenuToLayout"));var _connectRangeSelectorToAxis=_interopRequireDefault(require("./connectRangeSelectorToAxis"));var _connectLayersToMapbox=_interopRequireDefault(require("./connectLayersToMapbox"));var _connectTransformToTrace=_interopRequireDefault(require("./connectTransformToTrace"));var _connectAggregationToTransform=_interopRequireDefault(require("./connectAggregationToTransform"));var _connectAxesToLayout=_interopRequireDefault(require("./connectAxesToLayout"));var _connectLayoutToPlot=_interopRequireDefault(require("./connectLayoutToPlot"));var _connectToContainer=_interopRequireWildcard(require("./connectToContainer"));var _computeTraceOptionsFromSchema=require("./computeTraceOptionsFromSchema");var _connectTraceToPlot=_interopRequireDefault(require("./connectTraceToPlot"));var _dereference=_interopRequireWildcard(require("./dereference"));var _getAllAxes=_interopRequireWildcard(require("./getAllAxes"));var _localize=_interopRequireWildcard(require("./localize"));var _tinycolor=_interopRequireDefault(require("tinycolor2"));var _unpackPlotProps=_interopRequireWildcard(require("./unpackPlotProps"));var _walkObject=_interopRequireWildcard(require("./walkObject"));var _customTraceType=require("./customTraceType");var PlotlyIcons=_interopRequireWildcard(require("plotly-icons"));var _striptags=_interopRequireDefault(require("./striptags"));var _strings=require("./strings");var _reactColorscales=require("@eeacms/react-colorscales");var _lib=require("plotly.js/src/lib");var constants=_interopRequireWildcard(require("./constants"));exports.constants=constants;var _dataSources=require("./dataSources");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function _getRequireWildcardCache(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&{}.hasOwnProperty.call(e,u)){var i=a?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(function(){var enterModule=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;enterModule&&enterModule(module)})();var __signature__=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(a){return a};const TOO_LIGHT_FACTOR=0.8;function clamp(value,min,max){return Math.max(min,Math.min(max,value))}function getDisplayName(WrappedComponent){return WrappedComponent.displayName||WrappedComponent.name||"Component"}function tooLight(color){const hslColor=(0,_tinycolor.default)(color).toHsl();return hslColor.l>TOO_LIGHT_FACTOR}function renderTraceIcon(trace){let prefix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"Plot";if(!trace){return null}const gl="gl";const componentName="".concat(prefix).concat((0,_strings.pascalCase)(trace.endsWith(gl)?trace.slice(0,-gl.length):trace),"Icon");return PlotlyIcons[componentName]?PlotlyIcons[componentName]:PlotlyIcons.PlotLineIcon}function transpose(originalArray){if(originalArray.every(a=>!Array.isArray(a))){return originalArray.map(a=>[a])}let longestArrayItem=Array.isArray(originalArray[0])?originalArray[0].length:1;originalArray.forEach(a=>{const length=Array.isArray(a)?a.length:1;if(length>longestArrayItem){longestArrayItem=length}});const newArray=new Array(longestArrayItem);for(let outerIndex=0;outerIndex<originalArray.length;outerIndex++){if(!Array.isArray(originalArray[outerIndex])){originalArray[outerIndex]=[originalArray[outerIndex]]}for(let innerIndex=0;innerIndex<longestArrayItem;innerIndex++){if(!Array.isArray(newArray[innerIndex])){newArray[innerIndex]=[]}const value=typeof originalArray[outerIndex][innerIndex]!=="undefined"?originalArray[outerIndex][innerIndex]:null;newArray[innerIndex].push(value)}}return newArray}const specialTableCase=(traceType,srcAttributePath)=>{return traceType==="table"&&["header.valuessrc","header.font.colorsrc","header.font.sizesrc","header.fill.colorsrc","columnwidthsrc"].some(a=>srcAttributePath.endsWith(a))};function maybeTransposeData(data,srcAttributePath,traceType){if(!data||Array.isArray(data)&&data.length===0){return null}const isTransposable2DArray=srcAttributePath.endsWith("zsrc")&&["contour","contourgl","heatmap","heatmapgl","surface","carpet","contourcarpet"].includes(traceType);if(isTransposable2DArray){return transpose(data)}if(specialTableCase(traceType,srcAttributePath)&&Array.isArray(data[0])&&data.length===1){return data[0]}return data}function maybeAdjustSrc(src,srcAttributePath,traceType,config){if(!src||Array.isArray(src)&&src.length===0){return null}if(specialTableCase(traceType,srcAttributePath)&&src.length===1){return src[0]}return config&&config.fromSrc?config.fromSrc(src,traceType,srcAttributePath):src}function adjustColorscale(colorscale,numberOfNeededColors,colorscaleType,config){if(config&&config.repeat){if(numberOfNeededColors<colorscale.length){return colorscale.slice(0,numberOfNeededColors)}const repetitions=Math.ceil(numberOfNeededColors/colorscale.length);const newArray=new Array(repetitions).fill(colorscale);return newArray.reduce((a,b)=>{return a.concat(b)},[]).slice(0,numberOfNeededColors)}return(0,_reactColorscales.getColorscale)(colorscale,numberOfNeededColors,null,null,colorscaleType)}function getFullTrace(props,context){let fullTrace={};if(context.fullData&&context.data){if(props.fullDataArrayPosition){fullTrace=context.fullData[props.fullDataArrayPosition[0]]}else{fullTrace=context.fullData.filter(t=>t&&props.traceIndexes[0]===t.index)[0]}if(fullTrace&&fullTrace.transforms&&!fullTrace.transforms.some(t=>["moving-average","fits"].includes(t.type))&&!props.fullDataArrayPosition){fullTrace=fullTrace._fullInput}}return fullTrace}function getParsedTemplateString(originalString,context){let text=originalString;if(originalString&&context){text=(0,_lib.templateString)(originalString,context)}return text===""&&originalString?originalString:text};(function(){var reactHotLoader=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!reactHotLoader){return}reactHotLoader.register(TOO_LIGHT_FACTOR,"TOO_LIGHT_FACTOR","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(clamp,"clamp","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(getDisplayName,"getDisplayName","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(tooLight,"tooLight","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(renderTraceIcon,"renderTraceIcon","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(transpose,"transpose","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(specialTableCase,"specialTableCase","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(maybeTransposeData,"maybeTransposeData","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(maybeAdjustSrc,"maybeAdjustSrc","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(adjustColorscale,"adjustColorscale","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(getFullTrace,"getFullTrace","/Users/razvan/Work/react-chart-editor/src/lib/index.js");reactHotLoader.register(getParsedTemplateString,"getParsedTemplateString","/Users/razvan/Work/react-chart-editor/src/lib/index.js")})();;(function(){var leaveModule=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;leaveModule&&leaveModule(module)})();
//# sourceMappingURL=index.js.map
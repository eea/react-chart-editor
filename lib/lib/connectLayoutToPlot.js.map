{"version":3,"file":"connectLayoutToPlot.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_nested_property","_lib","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","connectLayoutToPlot","WrappedComponent","LayoutConnectedComponent","Component","getChildContext","layout","fullLayout","dfltGraphDiv","plotly","onUpdate","context","updateContainer","update","type","EDITOR_ACTIONS","UPDATE_LAYOUT","payload","getDflt","attr","_nestedProperty$get","nestedProperty","_fullLayout","_template","getValObject","PlotSchema","getLayoutValObject","parts","container","fullContainer","render","createElement","props","__reactstandin__regenerateByEval","key","code","eval","displayName","concat","getDisplayName","contextTypes","PropTypes","object","func","any","childContextTypes","plotly_editor_traits","reactHotLoader","register","leaveModule"],"sources":["../../src/lib/connectLayoutToPlot.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport nestedProperty from 'plotly.js/src/lib/nested_property';\nimport {getDisplayName} from '../lib';\nimport {EDITOR_ACTIONS} from './constants';\n\nexport default function connectLayoutToPlot(WrappedComponent) {\n  class LayoutConnectedComponent extends Component {\n    getChildContext() {\n      const {layout, fullLayout, dfltGraphDiv, plotly, onUpdate} = this.context;\n\n      const updateContainer = (update) => {\n        if (!onUpdate) {\n          return;\n        }\n        onUpdate({\n          type: EDITOR_ACTIONS.UPDATE_LAYOUT,\n          payload: {\n            update,\n          },\n        });\n      };\n\n      return {\n        getDflt: (attr) => {\n          return (\n            nestedProperty(dfltGraphDiv._fullLayout._template || {}, attr).get() ??\n            nestedProperty(dfltGraphDiv._fullLayout, attr).get()\n          );\n        },\n        getValObject: (attr) =>\n          !plotly\n            ? null\n            : plotly.PlotSchema.getLayoutValObject(fullLayout, nestedProperty({}, attr).parts),\n        updateContainer,\n        container: layout,\n        fullContainer: fullLayout,\n      };\n    }\n\n    render() {\n      return <WrappedComponent {...this.props} />;\n    }\n  }\n\n  LayoutConnectedComponent.displayName = `LayoutConnected${getDisplayName(WrappedComponent)}`;\n\n  LayoutConnectedComponent.contextTypes = {\n    layout: PropTypes.object,\n    fullLayout: PropTypes.object,\n    plotly: PropTypes.object,\n    onUpdate: PropTypes.func,\n    dfltGraphDiv: PropTypes.any,\n  };\n\n  LayoutConnectedComponent.childContextTypes = {\n    getDflt: PropTypes.func,\n    getValObject: PropTypes.func,\n    updateContainer: PropTypes.func,\n    container: PropTypes.object,\n    fullContainer: PropTypes.object,\n  };\n\n  const {plotly_editor_traits} = WrappedComponent;\n  LayoutConnectedComponent.plotly_editor_traits = plotly_editor_traits;\n\n  return LayoutConnectedComponent;\n}\n"],"mappings":"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","ignoreList":[]}
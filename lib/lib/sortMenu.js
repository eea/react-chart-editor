"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.default=sortMenu;(function(){var enterModule=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.enterModule:undefined;enterModule&&enterModule(module)})();var __signature__=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default.signature:function(a){return a};function getUniqueValues(value,index,self){return self.indexOf(value)===index}function sortAlphabetically(a,b){const sortByGroup=a.props.group===b.props.group?0:a.props.group<b.props.group?-1:1;const sortByName=a.props.name===b.props.name?0:a.props.name<b.props.name?-1:1;return sortByGroup||sortByName}function sortMenu(children,order){if(!order){return children}let panelsStartIndex=null;let panelsEndIndex=null;for(let i=0;i<children.length;i++){if(children[i].props.group&&children[i].props.name&&!panelsStartIndex){panelsStartIndex=i;break}}for(let i=panelsStartIndex;i<children.length;i++){if(!children[i].props.group&&!children[i].props.name&&!panelsEndIndex){panelsEndIndex=i-1;break}else if(i===children.length-1){panelsEndIndex=i}}const prePanelsChildren=panelsStartIndex===0?[]:children.slice(0,panelsStartIndex);const panels=panelsStartIndex!==panelsEndIndex?children.slice(panelsStartIndex,panelsEndIndex+1):[];const postPanelsChildren=panelsEndIndex===children.length?[]:children.slice(panelsEndIndex+1);order=order.filter(desiredPanel=>panels.some(actualPanel=>actualPanel.props.name===desiredPanel.name&&actualPanel.props.group===desiredPanel.group));const desiredGroupOrder=order.map(panel=>panel.group).filter(getUniqueValues);panels.sort((a,b)=>{const panelAHasGroupCustomOrder=desiredGroupOrder.includes(a.props.group);const panelBHasGroupCustomOrder=desiredGroupOrder.includes(b.props.group);if(panelAHasGroupCustomOrder&&!panelBHasGroupCustomOrder){return-1}if(!panelAHasGroupCustomOrder&&panelBHasGroupCustomOrder){return 1}if(!panelAHasGroupCustomOrder&&!panelBHasGroupCustomOrder){return sortAlphabetically(a,b)}if(panelAHasGroupCustomOrder&&panelBHasGroupCustomOrder){const indexOfGroupA=desiredGroupOrder.indexOf(a.props.group);const indexOfGroupB=desiredGroupOrder.indexOf(b.props.group);if(indexOfGroupA<indexOfGroupB){return-1}if(indexOfGroupA>indexOfGroupB){return 1}if(indexOfGroupA===indexOfGroupB){const desiredNameOrder=order.filter(panel=>panel.group===a.props.group).map(panel=>panel.name).filter(getUniqueValues);const panelAHasNameCustomOrder=desiredNameOrder.includes(a.props.name);const panelBHasNameCustomOrder=desiredNameOrder.includes(b.props.name);if(!panelAHasNameCustomOrder||!panelBHasNameCustomOrder){if(panelAHasNameCustomOrder&&!panelBHasNameCustomOrder){return-1}if(!panelAHasNameCustomOrder&&panelBHasNameCustomOrder){return 1}if(!panelAHasNameCustomOrder&&!panelBHasNameCustomOrder){return sortAlphabetically(a,b)}}if(panelAHasNameCustomOrder&&panelBHasNameCustomOrder){return desiredNameOrder.indexOf(a.props.name)-desiredNameOrder.indexOf(b.props.name)}}}return 0});return prePanelsChildren.concat(panels).concat(postPanelsChildren)};(function(){var reactHotLoader=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.default:undefined;if(!reactHotLoader){return}reactHotLoader.register(getUniqueValues,"getUniqueValues","/Users/razvan/Work/react-chart-editor/src/lib/sortMenu.js");reactHotLoader.register(sortAlphabetically,"sortAlphabetically","/Users/razvan/Work/react-chart-editor/src/lib/sortMenu.js");reactHotLoader.register(sortMenu,"sortMenu","/Users/razvan/Work/react-chart-editor/src/lib/sortMenu.js")})();;(function(){var leaveModule=typeof reactHotLoaderGlobal!=="undefined"?reactHotLoaderGlobal.leaveModule:undefined;leaveModule&&leaveModule(module)})();
//# sourceMappingURL=sortMenu.js.map
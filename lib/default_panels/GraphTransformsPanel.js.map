{"version":3,"file":"GraphTransformsPanel.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_components","_lib","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","AggregationSection","connectAggregationToTransform","PlotlySection","Aggregations","Component","render","_this$context$fullCon","context","fullContainer","aggregations","_","localize","length","createElement","name","attr","filter","aggr","target","match","map","_ref","show","key","aggregationIndex","Dropdown","label","options","value","clearable","__reactstandin__regenerateByEval","code","eval","exports","plotly_editor_traits","no_visibility_forcing","contextTypes","PropTypes","object","func","GraphTransformsPanel","props","_ref2","TraceAccordion","traceFilterCondition","TRANSFORMABLE_TRACES","includes","type","TransformAccordion","Radio","DataSelector","FilterOperation","FilterValue","_default","_default2","reactHotLoader","register","leaveModule"],"sources":["../../src/default_panels/GraphTransformsPanel.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Radio,\n  TransformAccordion,\n  TraceAccordion,\n  DataSelector,\n  Dropdown,\n  PlotlySection,\n  FilterOperation,\n  FilterValue,\n} from '../components';\nimport {connectAggregationToTransform} from '../lib';\nimport {TRANSFORMABLE_TRACES} from 'lib/constants';\n\nconst AggregationSection = connectAggregationToTransform(PlotlySection);\n\nexport class Aggregations extends Component {\n  render() {\n    const {\n      fullContainer: {aggregations = []},\n    } = this.context;\n    const {localize: _} = this.context;\n    if (aggregations.length === 0) {\n      return null;\n    }\n\n    return (\n      <PlotlySection name={_('Aggregations')} attr=\"aggregations\">\n        {aggregations\n          .filter((aggr) => aggr.target && aggr.target.match(/transforms\\[\\d*\\]\\./gi) === null)\n          .map(({target}, i) => (\n            <AggregationSection show key={i} aggregationIndex={i}>\n              <Dropdown\n                attr=\"func\"\n                label={target}\n                options={[\n                  {label: _('Count'), value: 'count'},\n                  {label: _('Sum'), value: 'sum'},\n                  {label: _('Average'), value: 'avg'},\n                  {label: _('Median'), value: 'median'},\n                  {label: _('Mode'), value: 'mode'},\n                  {label: _('RMS'), value: 'rms'},\n                  {label: _('Standard Deviation'), value: 'stddev'},\n                  {label: _('Min'), value: 'min'},\n                  {label: _('Max'), value: 'max'},\n                  {label: _('First'), value: 'first'},\n                  {label: _('Last'), value: 'last'},\n                  {label: _('Change'), value: 'change'},\n                  {label: _('Range'), value: 'range'},\n                ]}\n                clearable={false}\n              />\n            </AggregationSection>\n          ))}\n      </PlotlySection>\n    );\n  }\n}\n\nAggregations.plotly_editor_traits = {no_visibility_forcing: true};\nAggregations.contextTypes = {\n  fullContainer: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nconst GraphTransformsPanel = (props, {localize: _}) => {\n  return (\n    <TraceAccordion traceFilterCondition={(t) => TRANSFORMABLE_TRACES.includes(t.type)}>\n      <TransformAccordion>\n        <Radio\n          attr=\"enabled\"\n          options={[\n            {label: _('Enabled'), value: true},\n            {label: _('Disabled'), value: false},\n          ]}\n        />\n\n        <DataSelector label={_('By')} attr=\"groups\" />\n\n        <DataSelector label={_('Target')} attr=\"target\" />\n        <FilterOperation label={_('Operator')} attr=\"operation\" />\n        <FilterValue label={_('Value')} attr=\"value\" />\n\n        <Radio\n          attr=\"order\"\n          options={[\n            {label: _('Ascending'), value: 'ascending'},\n            {label: _('Descending'), value: 'descending'},\n          ]}\n        />\n\n        <Aggregations />\n      </TransformAccordion>\n    </TraceAccordion>\n  );\n};\n\nGraphTransformsPanel.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default GraphTransformsPanel;\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"PlotlyEditor.js","names":["_react","_interopRequireWildcard","require","_pick","_interopRequireDefault","_isNil","_propTypes","_constants","_factory","_EditorControls","_DataSourcesEditor","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","push","apply","_objectSpread","arguments","length","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","value","configurable","writable","_toPrimitive","Symbol","toPrimitive","TypeError","String","Number","__signature__","signature","PlotlyEditor","Component","constructor","props","state","graphDiv","dfltGraphDiv","_fullData","_fullLayout","dfltData","dfltLayout","initialized","EditorControls","createRef","DataSourcesEditor","PlotComponent","createPlotComponent","plotly","handleRender","bind","onUpdate","loadDataSources","onPlotResize","renderSlot","componentDidUpdate","prevProps","prevState","data","layout","_layout$xaxis","_layout$annotations","_layout$shapes","_layout$images","setState","map","trace","pick","TRACE_SRC_ATTRIBUTES","attr","includes","isNil","autocolorscale","LAYOUT_SRC_ATTRIBUTES","xaxis","rangeslider","visible","annotations","shapes","images","fig","forceRender","onRender","_ref","type","payload","editor","current","handleUpdate","dataSources","update","containerEl","document","querySelector","gridEl","previewEl","plotEl","requestAnimationFrame","style","maxHeight","Math","max","MIN_PLOT_HEIGHT","clientHeight","window","dispatchEvent","Event","slot","_this$props$slots","slots","render","createElement","className","hideControls","ref","customColors","dataSourceOptions","defaults","onUpdateDataSources","advancedTraceTypeSelector","locale","traceTypesConfig","dictionaries","showFieldTooltips","srcConverters","makeDefaultTrace","glByDefault","mapBoxAccess","Boolean","config","mapboxAccessToken","fontOptions","chartHelp","customConfig","ctx","children","dataSourcesSubset","frames","useResizeHandler","debug","onInitialized","width","height","divId","_","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","any","object","array","func","bool","string","shape","toSrc","isRequired","fromSrc","objectOf","element","defaultProps","DEFAULT_FONTS","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../src/PlotlyEditor.js"],"sourcesContent":["import React, {Component, createRef} from 'react';\nimport pick from 'lodash/pick';\nimport isNil from 'lodash/isNil';\nimport PropTypes from 'prop-types';\nimport {\n  DEFAULT_FONTS,\n  MIN_PLOT_HEIGHT,\n  TRACE_SRC_ATTRIBUTES,\n  LAYOUT_SRC_ATTRIBUTES,\n} from 'lib/constants';\n// import createPlotComponent from 'lib/createPlotComponent';\nimport createPlotComponent from 'react-plotly.js/factory';\n\nimport EditorControls from './EditorControls';\nimport DataSourcesEditor from './DataSourcesEditor';\n\nclass PlotlyEditor extends Component {\n  constructor(props) {\n    super();\n    this.state = {\n      graphDiv: {},\n      dfltGraphDiv: {\n        _fullData: [],\n        _fullLayout: {},\n      },\n      dfltData: [],\n      dfltLayout: {},\n      initialized: false,\n    };\n    this.EditorControls = createRef();\n    this.DataSourcesEditor = createRef();\n    this.PlotComponent = createPlotComponent(props.plotly);\n    this.handleRender = this.handleRender.bind(this);\n    this.onUpdate = this.onUpdate.bind(this);\n    this.loadDataSources = this.loadDataSources.bind(this);\n    this.onPlotResize = this.onPlotResize.bind(this);\n    this.renderSlot = this.renderSlot.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!this.state.initialized) {\n      return;\n    }\n    const {data, layout} = this.props;\n    if (\n      data !== prevProps.data ||\n      layout !== prevProps.layout ||\n      this.state.initialized !== prevState.initialized\n    ) {\n      this.setState({\n        dfltData: data.map((trace) => ({\n          ...pick(trace, [\n            'type',\n            'xaxis',\n            'yaxis',\n            ...TRACE_SRC_ATTRIBUTES.filter((attr) => !attr.includes('.')),\n          ]),\n          ...(!isNil(trace.autocolorscale) ? {autocolorscale: true} : {}),\n        })),\n        dfltLayout: {\n          ...pick(layout, ['template', ...LAYOUT_SRC_ATTRIBUTES]),\n          ...(layout.xaxis?.rangeslider?.visible ? {xaxis: {rangeslider: {visible: true}}} : {}),\n          ...(layout.annotations?.length\n            ? {\n                annotations: layout.annotations.map(() => ({})),\n              }\n            : {}),\n          ...(layout.shapes?.length\n            ? {\n                shapes: layout.shapes.map(() => ({})),\n              }\n            : {}),\n          ...(layout.images?.length\n            ? {\n                images: layout.images.map(() => ({})),\n              }\n            : {}),\n        },\n      });\n    }\n  }\n\n  handleRender(fig, graphDiv) {\n    if (!this.props.forceRender) {\n      this.setState({graphDiv});\n    }\n    if (this.props.forceRender) {\n      this.props.forceRender(fig, graphDiv);\n    }\n    if (this.props.onRender) {\n      this.props.onRender(fig, graphDiv);\n    }\n  }\n\n  onUpdate({type, payload}) {\n    const editor = this.EditorControls.current;\n    return editor.handleUpdate.bind(editor)({type, payload});\n  }\n\n  loadDataSources(dataSources, update) {\n    const editor = this.DataSourcesEditor.current;\n    return editor.loadDataSources.bind(editor)(dataSources, update);\n  }\n\n  onPlotResize() {\n    const containerEl = document.querySelector('.grid_and_plot');\n    const gridEl = containerEl.querySelector('.grid_panel');\n    const previewEl = containerEl.querySelector('.grid_panel__resize-preview');\n    const plotEl = containerEl.querySelector('.plot_panel');\n    requestAnimationFrame(() => {\n      plotEl.style.maxHeight =\n        Math.max(\n          MIN_PLOT_HEIGHT,\n          containerEl.clientHeight - (gridEl.clientHeight + previewEl.clientHeight) - 1\n        ) + 'px';\n      window.dispatchEvent(new Event('resize'));\n    });\n  }\n\n  renderSlot(slot) {\n    return this.props.slots?.[slot] || null;\n  }\n\n  render() {\n    return (\n      <div className=\"plotly_editor plotly-editor--theme-provider\">\n        {!this.props.hideControls && (\n          <EditorControls\n            ref={this.EditorControls}\n            customColors={this.props.customColors}\n            graphDiv={this.state.graphDiv}\n            dfltGraphDiv={this.state.dfltGraphDiv}\n            dataSources={this.props.dataSources}\n            dataSourceOptions={this.props.dataSourceOptions}\n            defaults={this.props.defaults}\n            plotly={this.props.plotly}\n            onUpdate={this.props.onUpdate}\n            onUpdateDataSources={this.props.onUpdateDataSources}\n            advancedTraceTypeSelector={this.props.advancedTraceTypeSelector}\n            locale={this.props.locale}\n            traceTypesConfig={this.props.traceTypesConfig}\n            dictionaries={this.props.dictionaries}\n            showFieldTooltips={this.props.showFieldTooltips}\n            srcConverters={this.props.srcConverters}\n            makeDefaultTrace={this.props.makeDefaultTrace}\n            glByDefault={this.props.glByDefault}\n            mapBoxAccess={Boolean(this.props.config && this.props.config.mapboxAccessToken)}\n            fontOptions={this.props.fontOptions}\n            chartHelp={this.props.chartHelp}\n            customConfig={this.props.customConfig}\n            ctx={this.props.ctx}\n          >\n            {this.props.children}\n          </EditorControls>\n        )}\n        <div className=\"grid_and_plot\">\n          {this.renderSlot('grid-and-plot')}\n          <DataSourcesEditor\n            ref={this.DataSourcesEditor}\n            data={this.props.data}\n            layout={this.props.layout}\n            dataSources={this.props.dataSourcesSubset || this.props.dataSources}\n            srcConverters={this.props.srcConverters}\n            onUpdate={this.onUpdate}\n            onPlotResize={this.onPlotResize}\n          />\n          <div className=\"plot_panel\">\n            <this.PlotComponent\n              data={this.props.data}\n              layout={this.props.layout}\n              frames={this.props.frames}\n              config={this.props.config}\n              useResizeHandler={this.props.useResizeHandler}\n              debug={this.props.debug}\n              onInitialized={(fig, graphDiv) => {\n                this.onPlotResize();\n\n                this.setState({initialized: true, graphDiv}, () => {\n                  const {data, layout, frames} = fig;\n\n                  if (this.props.onInitialized) {\n                    this.props.onInitialized(fig, graphDiv);\n                  }\n\n                  if (this.props.onUpdate) {\n                    this.props.onUpdate(data, layout, frames);\n                  }\n                });\n              }}\n              onUpdate={(fig, graphDiv) =>\n                this.state.initialized ? this.handleRender(fig, graphDiv) : null\n              }\n              style={{width: '100%', height: '100%'}}\n              divId={this.props.divId}\n            />\n            {this.state.initialized && (\n              <this.PlotComponent\n                data={this.state.dfltData}\n                layout={this.state.dfltLayout}\n                frames={this.props.frames}\n                config={this.props.config}\n                // style={{display: 'none'}}\n                divId=\"plotly-dflt\"\n                onInitialized={(_, graphDiv) => this.setState({dfltGraphDiv: graphDiv})}\n              />\n            )}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nPlotlyEditor.propTypes = {\n  children: PropTypes.any,\n  layout: PropTypes.object,\n  data: PropTypes.array,\n  config: PropTypes.object,\n  customColors: PropTypes.array,\n  defaults: PropTypes.object,\n  dataSources: PropTypes.object,\n  dataSourcesSubset: PropTypes.object,\n  dataSourceOptions: PropTypes.array,\n  frames: PropTypes.array,\n  onUpdate: PropTypes.func,\n  onUpdateDataSources: PropTypes.func,\n  onRender: PropTypes.func,\n  forceRender: PropTypes.func,\n  onInitialized: PropTypes.func,\n  plotly: PropTypes.object,\n  useResizeHandler: PropTypes.bool,\n  debug: PropTypes.bool,\n  advancedTraceTypeSelector: PropTypes.bool,\n  locale: PropTypes.string,\n  traceTypesConfig: PropTypes.object,\n  dictionaries: PropTypes.object,\n  divId: PropTypes.string,\n  hideControls: PropTypes.bool,\n  showFieldTooltips: PropTypes.bool,\n  srcConverters: PropTypes.shape({\n    toSrc: PropTypes.func.isRequired,\n    fromSrc: PropTypes.func.isRequired,\n  }),\n  makeDefaultTrace: PropTypes.func,\n  glByDefault: PropTypes.bool,\n  fontOptions: PropTypes.array,\n  chartHelp: PropTypes.object,\n  customConfig: PropTypes.object,\n  ctx: PropTypes.object,\n  slots: PropTypes.objectOf(PropTypes.element),\n};\n\nPlotlyEditor.defaultProps = {\n  hideControls: false,\n  showFieldTooltips: false,\n  fontOptions: DEFAULT_FONTS,\n};\n\nexport default PlotlyEditor;\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"DefaultEditor.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_components","_default_panels","_StyleColorbarsPanel","_Logo","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","DefaultEditor","Component","constructor","props","context","hasTransforms","bind","hasAxes","hasMenus","hasSliders","hasColorbars","hasLegend","fullData","some","d","TRANSFORMABLE_TRACES","includes","type","keys","fullLayout","_subplots","filter","length","_this$context$fullLay","updatemenus","_this$context$layout$","layout","sliders","traceHasColorbar","showlegend","hasMaps","TRACE_TO_AXIS","geo","mapbox","render","_","localize","_this$props","logoSrc","logoLinkUrl","menuPanelOrder","children","logo","createElement","src","link","PanelMenuWrapper","GraphCreatePanel","group","name","GraphSubplotsPanel","GraphTransformsPanel","StyleLayoutPanel","collapsedOnStart","StyleTracesPanel","StyleAxesPanel","StyleMapsPanel","StyleLegendPanel","StyleColorbarsPanel","StyleNotesPanel","StyleShapesPanel","StyleImagesPanel","StyleSlidersPanel","StyleUpdateMenusPanel","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","node","string","array","contextTypes","func","object","ctx","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../src/DefaultEditor.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {PanelMenuWrapper} from './components';\nimport {\n  GraphCreatePanel,\n  GraphTransformsPanel,\n  GraphSubplotsPanel,\n  StyleLayoutPanel,\n  StyleAxesPanel,\n  StyleMapsPanel,\n  StyleLegendPanel,\n  StyleNotesPanel,\n  StyleShapesPanel,\n  StyleSlidersPanel,\n  StyleImagesPanel,\n  StyleTracesPanel,\n  StyleColorbarsPanel,\n  StyleUpdateMenusPanel,\n} from './default_panels';\nimport {traceHasColorbar} from './default_panels/StyleColorbarsPanel';\nimport Logo from './components/widgets/Logo';\nimport {TRANSFORMABLE_TRACES, TRACE_TO_AXIS} from './lib/constants';\n\nclass DefaultEditor extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.hasTransforms = this.hasTransforms.bind(this);\n    this.hasAxes = this.hasAxes.bind(this);\n    this.hasMenus = this.hasMenus.bind(this);\n    this.hasSliders = this.hasSliders.bind(this);\n    this.hasColorbars = this.hasColorbars.bind(this);\n    this.hasLegend = this.hasLegend.bind(this);\n  }\n\n  hasTransforms() {\n    return this.context.fullData.some((d) => TRANSFORMABLE_TRACES.includes(d.type));\n  }\n\n  hasAxes() {\n    return (\n      Object.keys(this.context.fullLayout._subplots).filter(\n        (type) =>\n          !['cartesian', 'mapbox'].includes(type) &&\n          this.context.fullLayout._subplots[type].length > 0\n      ).length > 0\n    );\n  }\n\n  hasMenus() {\n    const {\n      fullLayout: {updatemenus = []},\n    } = this.context;\n\n    return updatemenus.length > 0;\n  }\n\n  hasSliders() {\n    const {\n      layout: {sliders = []},\n    } = this.context;\n\n    return sliders.length > 0;\n  }\n\n  hasColorbars() {\n    return this.context.fullData.some((d) => traceHasColorbar({}, d));\n  }\n\n  hasLegend() {\n    return this.context.fullData.some((t) => t.showlegend !== undefined); // eslint-disable-line no-undefined\n  }\n\n  hasMaps() {\n    return this.context.fullData.some((d) =>\n      [...TRACE_TO_AXIS.geo, ...TRACE_TO_AXIS.mapbox].includes(d.type)\n    );\n  }\n\n  render() {\n    const _ = this.context.localize;\n    const {logoSrc, logoLinkUrl, menuPanelOrder, children} = this.props;\n    const logo = logoSrc && <Logo src={logoSrc} link={logoLinkUrl} />;\n\n    return (\n      <PanelMenuWrapper menuPanelOrder={menuPanelOrder}>\n        {logo || null}\n        <GraphCreatePanel group={_('Structure')} name={_('Traces')} />\n        <GraphSubplotsPanel group={_('Structure')} name={_('Subplots')} />\n        {this.hasTransforms() && (\n          <GraphTransformsPanel group={_('Structure')} name={_('Transforms')} />\n        )}\n        <StyleLayoutPanel group={_('Style')} name={_('General')} collapsedOnStart />\n        <StyleTracesPanel group={_('Style')} name={_('Traces')} />\n        {this.hasAxes() && <StyleAxesPanel group={_('Style')} name={_('Axes')} collapsedOnStart />}\n        {this.hasMaps() && <StyleMapsPanel group={_('Style')} name={_('Maps')} />}\n        {this.hasLegend() && <StyleLegendPanel group={_('Style')} name={_('Legend')} />}\n        {this.hasColorbars() && <StyleColorbarsPanel group={_('Style')} name={_('Color Bars')} />}\n        <StyleNotesPanel group={_('Annotate')} name={_('Text')} />\n        <StyleShapesPanel group={_('Annotate')} name={_('Shapes')} />\n        <StyleImagesPanel group={_('Annotate')} name={_('Images')} />\n        {this.hasSliders() && <StyleSlidersPanel group={_('Control')} name={_('Sliders')} />}\n        {this.hasMenus() && <StyleUpdateMenusPanel group={_('Control')} name={_('Menus')} />}\n        {children || null}\n      </PanelMenuWrapper>\n    );\n  }\n}\n\nDefaultEditor.propTypes = {\n  children: PropTypes.node,\n  logoSrc: PropTypes.string,\n  logoLinkUrl: PropTypes.string,\n  menuPanelOrder: PropTypes.array,\n};\n\nDefaultEditor.contextTypes = {\n  localize: PropTypes.func,\n  fullData: PropTypes.array,\n  fullLayout: PropTypes.object,\n  layout: PropTypes.object,\n  ctx: PropTypes.object,\n};\n\nexport default DefaultEditor;\n"],"mappings":"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","ignoreList":[]}
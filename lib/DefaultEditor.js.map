{"version":3,"file":"DefaultEditor.js","names":["_react","_interopRequireWildcard","require","_propTypes","_interopRequireDefault","_components","_default_panels","_StyleColorbarsPanel","_Logo","_constants","e","__esModule","default","_getRequireWildcardCache","WeakMap","r","t","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","enterModule","reactHotLoaderGlobal","undefined","module","__signature__","signature","DefaultEditor","Component","constructor","props","context","hasTransforms","bind","hasAxes","hasMenus","hasSliders","hasColorbars","hasLegend","fullData","some","d","TRANSFORMABLE_TRACES","includes","type","keys","fullLayout","_subplots","filter","length","updatemenus","layout","sliders","traceHasColorbar","showlegend","hasMaps","TRACE_TO_AXIS","geo","mapbox","render","_","localize","logoSrc","logoLinkUrl","menuPanelOrder","children","logo","createElement","src","link","PanelMenuWrapper","GraphCreatePanel","group","name","GraphSubplotsPanel","GraphTransformsPanel","StyleLayoutPanel","collapsedOnStart","StyleTracesPanel","StyleAxesPanel","StyleMapsPanel","StyleLegendPanel","StyleColorbarsPanel","StyleNotesPanel","StyleShapesPanel","StyleImagesPanel","StyleSlidersPanel","StyleUpdateMenusPanel","__reactstandin__regenerateByEval","key","code","eval","propTypes","PropTypes","node","string","array","contextTypes","func","object","ctx","_default","_default2","exports","reactHotLoader","register","leaveModule"],"sources":["../src/DefaultEditor.js"],"sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {PanelMenuWrapper} from './components';\nimport {\n  GraphCreatePanel,\n  GraphTransformsPanel,\n  GraphSubplotsPanel,\n  StyleLayoutPanel,\n  StyleAxesPanel,\n  StyleMapsPanel,\n  StyleLegendPanel,\n  StyleNotesPanel,\n  StyleShapesPanel,\n  StyleSlidersPanel,\n  StyleImagesPanel,\n  StyleTracesPanel,\n  StyleColorbarsPanel,\n  StyleUpdateMenusPanel,\n} from './default_panels';\nimport {traceHasColorbar} from './default_panels/StyleColorbarsPanel';\nimport Logo from './components/widgets/Logo';\nimport {TRANSFORMABLE_TRACES, TRACE_TO_AXIS} from './lib/constants';\n\nclass DefaultEditor extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.hasTransforms = this.hasTransforms.bind(this);\n    this.hasAxes = this.hasAxes.bind(this);\n    this.hasMenus = this.hasMenus.bind(this);\n    this.hasSliders = this.hasSliders.bind(this);\n    this.hasColorbars = this.hasColorbars.bind(this);\n    this.hasLegend = this.hasLegend.bind(this);\n  }\n\n  hasTransforms() {\n    return this.context.fullData.some((d) => TRANSFORMABLE_TRACES.includes(d.type));\n  }\n\n  hasAxes() {\n    return (\n      Object.keys(this.context.fullLayout._subplots).filter(\n        (type) =>\n          !['cartesian', 'mapbox'].includes(type) &&\n          this.context.fullLayout._subplots[type].length > 0\n      ).length > 0\n    );\n  }\n\n  hasMenus() {\n    const {\n      fullLayout: {updatemenus = []},\n    } = this.context;\n\n    return updatemenus.length > 0;\n  }\n\n  hasSliders() {\n    const {\n      layout: {sliders = []},\n    } = this.context;\n\n    return sliders.length > 0;\n  }\n\n  hasColorbars() {\n    return this.context.fullData.some((d) => traceHasColorbar({}, d));\n  }\n\n  hasLegend() {\n    return this.context.fullData.some((t) => t.showlegend !== undefined); // eslint-disable-line no-undefined\n  }\n\n  hasMaps() {\n    return this.context.fullData.some((d) =>\n      [...TRACE_TO_AXIS.geo, ...TRACE_TO_AXIS.mapbox].includes(d.type)\n    );\n  }\n\n  render() {\n    const _ = this.context.localize;\n    const {logoSrc, logoLinkUrl, menuPanelOrder, children} = this.props;\n    const logo = logoSrc && <Logo src={logoSrc} link={logoLinkUrl} />;\n\n    return (\n      <PanelMenuWrapper menuPanelOrder={menuPanelOrder}>\n        {logo || null}\n        <GraphCreatePanel group={_('Structure')} name={_('Traces')} />\n        <GraphSubplotsPanel group={_('Structure')} name={_('Subplots')} />\n        {this.hasTransforms() && (\n          <GraphTransformsPanel group={_('Structure')} name={_('Transforms')} />\n        )}\n        <StyleLayoutPanel group={_('Style')} name={_('General')} collapsedOnStart />\n        <StyleTracesPanel group={_('Style')} name={_('Traces')} />\n        {this.hasAxes() && <StyleAxesPanel group={_('Style')} name={_('Axes')} collapsedOnStart />}\n        {this.hasMaps() && <StyleMapsPanel group={_('Style')} name={_('Maps')} />}\n        {this.hasLegend() && <StyleLegendPanel group={_('Style')} name={_('Legend')} />}\n        {this.hasColorbars() && <StyleColorbarsPanel group={_('Style')} name={_('Color Bars')} />}\n        <StyleNotesPanel group={_('Annotate')} name={_('Text')} />\n        <StyleShapesPanel group={_('Annotate')} name={_('Shapes')} />\n        <StyleImagesPanel group={_('Annotate')} name={_('Images')} />\n        {this.hasSliders() && <StyleSlidersPanel group={_('Control')} name={_('Sliders')} />}\n        {this.hasMenus() && <StyleUpdateMenusPanel group={_('Control')} name={_('Menus')} />}\n        {children || null}\n      </PanelMenuWrapper>\n    );\n  }\n}\n\nDefaultEditor.propTypes = {\n  children: PropTypes.node,\n  logoSrc: PropTypes.string,\n  logoLinkUrl: PropTypes.string,\n  menuPanelOrder: PropTypes.array,\n};\n\nDefaultEditor.contextTypes = {\n  localize: PropTypes.func,\n  fullData: PropTypes.array,\n  fullLayout: PropTypes.object,\n  layout: PropTypes.object,\n  ctx: PropTypes.object,\n};\n\nexport default DefaultEditor;\n"],"mappings":"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","ignoreList":[]}